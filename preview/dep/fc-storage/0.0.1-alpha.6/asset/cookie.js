/*! @2015 Leo Wang. All Rights Reserved */
define("fc-storage/cookie",["require","underscore"],function(require){"use strict";function e(e){return a.raw?e:encodeURIComponent(e)}function t(e){return a.raw?e:decodeURIComponent(e)}function n(t){return e(a.json?JSON.stringify(t):String(t))}function r(e){if(0===e.indexOf('"'))e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\");try{e=decodeURIComponent(e.replace(s," "))}catch(t){return}try{return a.json?JSON.parse(e):e}catch(t){}}function i(e,t){var n=a.raw?e:r(e);return o.isFunction(t)?t(n):n}var o=require("underscore"),s=/\+/g,a=function(r,s,u){if(void 0!==s&&!o.isFunction(s)){if(u=o.extend({},a.defaults,u),"number"==typeof u.expires){var c=u.expires,f=u.expires=new Date;f.setDate(f.getDate()+c)}return document.cookie=[e(r),"=",n(s),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join("")}for(var l=r?void 0:{},p=document.cookie?document.cookie.split("; "):[],h=0,d=p.length;d>h;h++){var v=p[h].split("="),m=t(v.shift()),g=v.join("=");if(r&&r===m){l=i(g,s);break}if(!r&&void 0!==(g=i(g)))l[m]=g}return l};a.defaults={};var exports={};return exports.remove=exports.removeItem=function(e,t){if(void 0!==a(e))return a(e,"",o.extend({},t,{expires:-1})),!0;else return!1},exports.get=exports.getItem=function(e){return a(e)},exports.set=exports.setItem=function(e,t,n){return a(e,t,n)},exports});