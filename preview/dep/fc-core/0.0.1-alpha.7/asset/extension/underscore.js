/*! @2015 Leo Wang. All Rights Reserved */
define("fc-core/extension/underscore",["require","underscore"],function(require){function e(e){var n=arguments.length;if(2>n)return e;for(var r=1;n>r;r++)t(arguments[0],arguments[r]);return arguments[0]}function t(t,n){for(var i in n)if(n.hasOwnProperty(i)){var s=o.call(t[i]),a=o.call(n[i]);switch(a){case"[object Object]":if(s!==a)t[i]=r.deepClone(n[i]);else{if(!t[i])t[i]=r.deepClone(n[i]);e(t[i],n[i])}break;case"[object Array]":t[i]=r.deepClone(n[i]);break;default:t[i]=n[i]}}else;return t}function n(){r.mixin(i)}var r=require("underscore"),i={};i.purify=function s(e,t,n){t=t||{};var i={};return r.each(e,function(e,r){var o=null==e||""===e,a=t.hasOwnProperty(r)&&t[r]===e;if(!o&&!a)if(n&&"object"==typeof e)i[r]=s(e,t[r],n);else i[r]=e}),i},i.trim=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},i.pascalize=function(e){if(e+="",/^[A-Z\-_]+$/.test(e))e=e.toLowerCase();return e=e.replace(/[\s-_]+(.)/g,function(e,t){return t.toUpperCase()}),e=e.charAt(0).toUpperCase()+e.slice(1)},i.camelize=function(e){return e=i.pascalize(e),e.charAt(0).toLowerCase()+e.slice(1)},i.dasherize=function(e){if(e=i.pascalize(e),e=e.replace(/[A-Z]{2,}/g,function(e){return e.charAt(0)+e.slice(1,-1).toLowerCase()+e.charAt(e.length-1)}),e=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}),"-"===e.charAt(0))e=e.substring(1);return e},i.constanize=function(e){return e=i.pascalize(e),e.toUpperCase()},i.pluralize=function(e){return e.replace(/y$/,"ie")+"s"},i.formatNumber=function(e,t,n,r){if("number"!=typeof arguments[1])r=arguments[2],n=arguments[1],t=0;if(r=r||"",n=n||"",null==e||isNaN(e))return r+n;e=parseFloat(e).toFixed(t);var i=e.split("."),o=i[0],s=i[1];o=o.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,");var a=r+o;if(s)a+="."+s;return a},i.pad=function(e,t,n){e+="";var r=n-e.length;if(r>0){var i=new Array(r+1).join(t);return i+e}return e},i.padRight=function(e,t,n){e+="";var r=n-e.length;if(r>0){var i=new Array(r+1).join(t);return e+i}return e},i.deepClone=function(e){if(!r.isObject(e)||r.isFunction(e))return e;if(r.isArray(e))return r.map(e,i.deepClone);var t={};return r.each(e,function(e,n){t[n]=i.deepClone(e)}),t};var o=Object.prototype.toString;return i.deepExtend=e,{activate:r.once(n)}});