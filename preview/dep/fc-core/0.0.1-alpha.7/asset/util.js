/*! @2015 Leo Wang. All Rights Reserved */
define("fc-core/util",["require","underscore","mini-event/Event","etpl"],function(require){"use strict";function e(e){e=e||0;for(var t=[],n=0;e>n;n++)t.push("0123456789abcdef".charAt(Math.floor(16*Math.random())));return t.join("")}function t(e,t){return JSON.parse(require("etpl").compile(JSON.stringify(e))(t))}var n=require("underscore"),r={};r.guid=function(){var t=(new Date).valueOf().toString();return["4b534c46",e(4),"4"+e(3),e(4),t.substring(0,12)].join("-")},r.uid=function(){return[(new Date).valueOf().toString(),e(4)].join("")};var i=window.location.search.substring(1);return r.processError=window.DEBUG||/\bdebug\b/g.test(i)?function(e){if(e instanceof Error)window.console.error(e.stack);else if(e.error instanceof Error||n.isArray(e.error))r.processError(e.error);else if(n.isArray(e))n.each(e,r.processError);else if(e instanceof require("mini-event/Event")&&"error"===e.type)window.console.error(e.error.failType,e.error.reason,e);else window.console.error(e)}:n.noop,r.mixWith=t,r.customData=function(e){return{data:e}},r});