/*! @2015 Leo Wang. All Rights Reserved */
define("mini-event/Event",["require","./lib"],function(require){function e(){return!0}function n(){return!1}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function r(e,n){if("object"==typeof e)n=e,e=n.type;if(t(n))i.extend(this,n);else if(n)this.data=n;if(e)this.type=e}var i=require("./lib");r.prototype.isDefaultPrevented=n,r.prototype.preventDefault=function(){this.isDefaultPrevented=e},r.prototype.isPropagationStopped=n,r.prototype.stopPropagation=function(){this.isPropagationStopped=e},r.prototype.isImmediatePropagationStopped=n,r.prototype.stopImmediatePropagation=function(){this.isImmediatePropagationStopped=e,this.stopPropagation()};var o=function(){return this}();r.fromDOMEvent=function(e,n,t){e=e||o.event;var i=new r(n,t);return i.preventDefault=function(){if(e.preventDefault)e.preventDefault();else e.returnValue=!1;r.prototype.preventDefault.call(this)},i.stopPropagation=function(){if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=!0;r.prototype.stopPropagation.call(this)},i.stopImmediatePropagation=function(){if(e.stopImmediatePropagation)e.stopImmediatePropagation();r.prototype.stopImmediatePropagation.call(this)},i};var a={type:!0,target:!0,preventDefault:!0,isDefaultPrevented:!0,stopPropagation:!0,isPropagationStopped:!0,stopImmediatePropagation:!0,isImmediatePropagationStopped:!0};return r.fromEvent=function(e,n){var t={type:e.type,preserveData:!1,syncState:!1};n=i.extend(t,n);var o=new r(n.type);if(n.preserveData)for(var u in e)if(e.hasOwnProperty(u)&&!a.hasOwnProperty(u))o[u]=e[u];if(n.extend)i.extend(o,n.extend);if(n.syncState)o.preventDefault=function(){e.preventDefault(),r.prototype.preventDefault.call(this)},o.stopPropagation=function(){e.stopPropagation(),r.prototype.stopPropagation.call(this)},o.stopImmediatePropagation=function(){e.stopImmediatePropagation(),r.prototype.stopImmediatePropagation.call(this)};return o},r.delegate=function(e,n,t,o,a){var u="string"==typeof n,l={object:e,type:u?n:t},c={object:u?t:n,type:u?o:t},f=u?a:o;if(f=i.extend({preserveData:!1},f),"function"==typeof l.object.on&&"function"==typeof c.object.on&&"function"==typeof c.object.fire){var s=function(e){var n=r.fromEvent(e,f);n.type=c.type,n.target=c.object,c.object.fire(c.type,n)};l.object.on(l.type,s)}},r});