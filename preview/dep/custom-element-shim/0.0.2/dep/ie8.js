/*! @2015 Leo Wang. All Rights Reserved */
!function(t){function e(t,e,n,r){for(var o,a=n.slice(),l=i(e,t),u=0,s=a.length;s>u&&(handler=a[u],"object"==typeof handler&&"function"==typeof handler.handleEvent?handler.handleEvent(l):handler.call(t,l),!l.stoppedImmediatePropagation);u++);return o=!l.stoppedPropagation,r&&o&&t.parentNode?t.parentNode.dispatchEvent(l):!l.defaultPrevented}function n(t,e){return{configurable:!0,get:t,set:e}}function r(t,e,r){var i=E(e||t,r);m(t,"textContent",n(function(){return i.get.call(this)},function(t){i.set.call(this,t)}))}function i(t,e){return t.currentTarget=e,t.eventPhase=t.target===t.currentTarget?2:3,t}function o(t,e){for(var n=t.length;n--&&t[n]!==e;);return n}function a(){if("BR"===this.tagName)return"\n";for(var t=this.firstChild,e=[];t;)8!==t.nodeType&&7!==t.nodeType&&e.push(t.textContent),t=t.nextSibling;return e.join("")}function l(t){!h&&S.test(document.readyState)&&(h=!h,document.detachEvent(d,l),t=document.createEvent("Event"),t.initEvent(f,!0,!0),document.dispatchEvent(t))}function u(t){for(var e;e=this.lastChild;)this.removeChild(e);null!=t&&this.appendChild(document.createTextNode(t))}function s(e,n){return n||(n=t.event),n.target||(n.target=n.srcElement||n.fromElement||document),n.timeStamp||(n.timeStamp=(new Date).getTime()),n}if(!document.createEvent){var c=!0,h=!1,d="onreadystatechange",f="DOMContentLoaded",p="__IE8__"+Math.random(),v=t.Object,m=v.defineProperty||function(t,e,n){t[e]=n.value},g=v.defineProperties||function(e,n){for(var r in n)if(y.call(n,r))try{m(e,r,n[r])}catch(i){t.console&&console.log(r+" failed on object:",e,i.message)}},E=v.getOwnPropertyDescriptor,y=v.prototype.hasOwnProperty,b=t.Element.prototype,C=t.Text.prototype,T=/^[a-z]+$/,S=/loaded|complete/,L={},w=document.createElement("div");r(t.HTMLCommentElement.prototype,b,"nodeValue"),r(t.HTMLScriptElement.prototype,null,"text"),r(C,null,"nodeValue"),r(t.HTMLTitleElement.prototype,null,"text"),m(t.HTMLStyleElement.prototype,"textContent",function(t){return n(function(){return t.get.call(this.styleSheet)},function(e){t.set.call(this.styleSheet,e)})}(E(t.CSSStyleSheet.prototype,"cssText"))),g(b,{textContent:{get:a,set:u},firstElementChild:{get:function(){for(var t=this.childNodes||[],e=0,n=t.length;n>e;e++)if(1==t[e].nodeType)return t[e]}},lastElementChild:{get:function(){for(var t=this.childNodes||[],e=t.length;e--;)if(1==t[e].nodeType)return t[e]}},previousElementSibling:{get:function(){for(var t=this.previousSibling;t&&1!=t.nodeType;)t=t.previousSibling;return t}},nextElementSibling:{get:function(){for(var t=this.nextSibling;t&&1!=t.nodeType;)t=t.nextSibling;return t}},childElementCount:{get:function(){for(var t=0,e=this.childNodes||[],n=e.length;n--;t+=1==e[n].nodeType);return t}},addEventListener:{value:function(t,n,r){var i,a=this,l="on"+t,u=a[p]||m(a,p,{value:{}})[p],c=u[l]||(u[l]={}),h=c.h||(c.h=[]);if(!y.call(c,"w")){if(c.w=function(t){return t[p]||e(a,s(a,t),h,!1)},!y.call(L,l))if(T.test(t))try{i=document.createEventObject(),i[p]=!0,9!=a.nodeType&&null==a.parentNode&&w.appendChild(a),a.fireEvent(l,i),L[l]=!0}catch(i){for(L[l]=!1;w.hasChildNodes();)w.removeChild(w.firstChild)}else L[l]=!1;(c.n=L[l])&&a.attachEvent(l,c.w)}o(h,n)<0&&h[r?"unshift":"push"](n)}},dispatchEvent:{value:function(t){var n,r=this,i="on"+t.type,o=r[p],a=o&&o[i],l=!!a;return t.target||(t.target=r),l?a.n?r.fireEvent(i,t):e(r,t,a.h,!0):(n=r.parentNode)?n.dispatchEvent(t):!0,!t.defaultPrevented}},removeEventListener:{value:function(t,e){var n=this,r="on"+t,i=n[p],a=i&&i[r],l=a&&a.h,u=l?o(l,e):-1;u>-1&&l.splice(u,1)}}}),g(C,{addEventListener:{value:b.addEventListener},dispatchEvent:{value:b.dispatchEvent},removeEventListener:{value:b.removeEventListener}}),g(t.XMLHttpRequest.prototype,{addEventListener:{value:function(t,e,n){var r=this,i="on"+t,a=r[p]||m(r,p,{value:{}})[p],l=a[i]||(a[i]={}),u=l.h||(l.h=[]);o(u,e)<0&&(r[i]||(r[i]=function(){var e=document.createEvent("Event");e.initEvent(t,!0,!0),r.dispatchEvent(e)}),u[n?"unshift":"push"](e))}},dispatchEvent:{value:function(t){var n=this,r="on"+t.type,i=n[p],o=i&&i[r],a=!!o;return a&&(o.n?n.fireEvent(r,t):e(n,t,o.h,!0))}},removeEventListener:{value:b.removeEventListener}}),g(t.Event.prototype,{bubbles:{value:!0,writable:!0},cancelable:{value:!0,writable:!0},preventDefault:{value:function(){this.cancelable&&(this.defaultPrevented=!0,this.returnValue=!1)}},stopPropagation:{value:function(){this.stoppedPropagation=!0,this.cancelBubble=!0}},stopImmediatePropagation:{value:function(){this.stoppedImmediatePropagation=!0,this.stopPropagation()}},initEvent:{value:function(t,e,n){this.type=t,this.bubbles=!!e,this.cancelable=!!n,this.bubbles||this.stopPropagation()}}}),g(t.HTMLDocument.prototype,{textContent:{get:function(){return 11===this.nodeType?a.call(this):null},set:function(t){11===this.nodeType&&u.call(this,t)}},addEventListener:{value:function(e,n,r){var i=this;b.addEventListener.call(i,e,n,r),c&&e===f&&!S.test(i.readyState)&&(c=!1,i.attachEvent(d,l),t==top&&function o(){try{i.documentElement.doScroll("left"),l()}catch(t){setTimeout(o,50)}}())}},dispatchEvent:{value:b.dispatchEvent},removeEventListener:{value:b.removeEventListener},createEvent:{value:function(t){var e;if("Event"!==t)throw new Error("unsupported "+t);return e=document.createEventObject(),e.timeStamp=(new Date).getTime(),e}}}),g(t.Window.prototype,{getComputedStyle:{value:function(){function t(t){this._=t}function e(){}var n=/^(?:[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/,r=/^(top|right|bottom|left)$/,i=/\-([a-z])/g,o=function(t,e){return e.toUpperCase()};return t.prototype.getPropertyValue=function(t){var e,a,l,u=this._,s=u.style,c=u.currentStyle,h=u.runtimeStyle;return t=("float"===t?"style-float":t).replace(i,o),e=c?c[t]:s[t],n.test(e)&&!r.test(t)&&(a=s.left,l=h&&h.left,l&&(h.left=c.left),s.left="fontSize"===t?"1em":e,e=s.pixelLeft+"px",s.left=a,l&&(h.left=l)),null==e?e:e+""||"auto"},e.prototype.getPropertyValue=function(){return null},function(n,r){return r?new e(n):new t(n)}}()},addEventListener:{value:function(n,r,i){var a,l=t,u="on"+n;l[u]||(l[u]=function(t){return e(l,s(l,t),a,!1)}),a=l[u][p]||(l[u][p]=[]),o(a,r)<0&&a[i?"unshift":"push"](r)}},dispatchEvent:{value:function(e){var n=t["on"+e.type];return n?n.call(t,e)!==!1&&!e.defaultPrevented:!0}},removeEventListener:{value:function(e,n){var r="on"+e,i=(t[r]||v)[p],a=i?o(i,n):-1;a>-1&&i.splice(a,1)}}})}}(this);