/*! @2015 Leo Wang. All Rights Reserved */
define("fc-core/aop",["require"],function(){"use strict";var e={};return e.before=function(e,t,n){if(n){var r=e[t];e[t]=function(){try{n.apply(this,arguments)}finally{return r.apply(this,arguments)}}}},e.beforeReject=function(e,t,n){if(n){var r=e[t];e[t]=function(){if(n.apply(this,arguments))return r.apply(this,arguments);else return void 0}}},e.after=function(e,t,n){if(n){var r=e[t];e[t]=function(){var e=r.apply(this,arguments);try{n.apply(this,arguments)}finally{return e}}}},e.around=function(t,n,r,i){e.before(t,n,r),e.after(t,n,i)},e}),define("fc-core/assert",["require"],function(){"use strict";var e,t=window.location.search.substring(1);if(window.DEBUG||/\bdebug\b/g.test(t))return e=function(e,t){if(!e)throw new Error(t)},e.has=function(t,n){e(null!=t,n)},e.equals=function(t,n,r){e(t===n,r)},e.hasProperty=function(t,n,r){e(null!=t[n],r)},e.lessThan=function(t,n,r){e(n>t,r)},e.greaterThan=function(t,n,r){e(t>n,r)},e.lessThanOrEquals=function(t,n,r){e(n>=t,r)},e.greaterThanOrEquals=function(t,n,r){e(t>=n,r)},e;else return e=function(){},e.has=e,e.equals=e,e.hasProperty=e,e.lessThan=e,e.greaterThan=e,e.lessThanOrEquals=e,e.greaterThanOrEquals=e,e}),define("underscore/underscore",["require","exports","module"],function(require,exports,module){(function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,o=Function.prototype,a=r.push,u=r.slice,c=r.concat,l=i.toString,f=i.hasOwnProperty,s=Array.isArray,p=Object.keys,h=o.bind,d=function(e){if(e instanceof d)return e;if(!(this instanceof d))return new d(e);else return void(this._wrapped=e)};if("undefined"!=typeof exports){if("undefined"!=typeof module&&module.exports)exports=module.exports=d;exports._=d}else e._=d;d.VERSION="1.6.0";var v=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},g=function(e,t,n){if(null==e)return d.identity;if(d.isFunction(e))return v(e,t,n);if(d.isObject(e))return d.matches(e);else return d.property(e)};d.each=d.forEach=function(e,t,r){var i,o;if(null==e)return e;if(t=v(t,r),e.length===+e.length)for(i=0,o=e.length;o>i&&t(e[i],i,e)!==n;i++);else{var a=d.keys(e);for(i=0,o=a.length;o>i&&t(e[a[i]],a[i],e)!==n;i++);}return e},d.map=d.collect=function(e,t,n){var r=[];if(null==e)return r;else return t=g(t,n),d.each(e,function(e,n,i){r.push(t(e,n,i))}),r};var m="Reduce of empty array with no initial value";d.reduce=d.foldl=d.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e)e=[];if(t=v(t,r,4),d.each(e,function(e,r,o){if(!i)n=e,i=!0;else n=t(n,e,r,o)}),!i)throw TypeError(m);return n},d.reduceRight=d.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e)e=[];var o=e.length;if(t=v(t,r,4),o!==+o){var a=d.keys(e);o=a.length}if(d.each(e,function(r,u,c){if(u=a?a[--o]:--o,!i)n=e[u],i=!0;else n=t(n,e[u],u,c)}),!i)throw TypeError(m);return n},d.find=d.detect=function(e,t,n){var r;return t=g(t,n),d.some(e,function(e,n,i){if(t(e,n,i))return r=e,!0;else return void 0}),r},d.filter=d.select=function(e,t,n){var r=[];if(null==e)return r;else return t=g(t,n),d.each(e,function(e,n,i){if(t(e,n,i))r.push(e)}),r},d.reject=function(e,t,n){return d.filter(e,d.negate(g(t)),n)},d.every=d.all=function(e,t,r){var i=!0;if(null==e)return i;else return t=g(t,r),d.each(e,function(e,r,o){if(i=t(e,r,o),!i)return n;else return void 0}),!!i},d.some=d.any=function(e,t,r){var i=!1;if(null==e)return i;else return t=g(t,r),d.each(e,function(e,r,o){if(i=t(e,r,o))return n;else return void 0}),!!i},d.contains=d.include=function(e,t){if(null==e)return!1;if(e.length===+e.length)return d.indexOf(e,t)>=0;else return d.some(e,function(e){return e===t})},d.invoke=function(e,t){var n=u.call(arguments,2),r=d.isFunction(t);return d.map(e,function(e){return(r?t:e[t]).apply(e,n)})},d.pluck=function(e,t){return d.map(e,d.property(t))},d.where=function(e,t){return d.filter(e,d.matches(t))},d.findWhere=function(e,t){return d.find(e,d.matches(t))},d.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(!t&&d.isArray(e)){for(var u=0,c=e.length;c>u;u++)if(r=e[u],r>o)o=r}else t=g(t,n),d.each(e,function(e,n,r){if(i=t(e,n,r),i>a||i===-1/0&&o===-1/0)o=e,a=i});return o},d.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(!t&&d.isArray(e)){for(var u=0,c=e.length;c>u;u++)if(r=e[u],o>r)o=r}else t=g(t,n),d.each(e,function(e,n,r){if(i=t(e,n,r),a>i||1/0===i&&1/0===o)o=e,a=i});return o},d.shuffle=function(e){var t,n=0,r=[];return d.each(e,function(e){t=d.random(n++),r[n-1]=r[t],r[t]=e}),r},d.sample=function(e,t,n){if(null==t||n){if(e.length!==+e.length)e=d.values(e);return e[d.random(e.length-1)]}return d.shuffle(e).slice(0,Math.max(0,t))},d.sortBy=function(e,t,n){return t=g(t,n),d.pluck(d.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var y=function(e){return function(t,n,r){var i={};return n=g(n,r),d.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};d.groupBy=y(function(e,t,n){if(d.has(e,n))e[n].push(t);else e[n]=[t]}),d.indexBy=y(function(e,t,n){e[n]=t}),d.countBy=y(function(e,t,n){if(d.has(e,n))e[n]++;else e[n]=1}),d.sortedIndex=function(e,t,n,r){n=g(n,r,1);for(var i=n(t),o=0,a=e.length;a>o;){var u=o+a>>>1;if(n(e[u])<i)o=u+1;else a=u}return o},d.toArray=function(e){if(!e)return[];if(d.isArray(e))return u.call(e);if(e.length===+e.length)return d.map(e,d.identity);else return d.values(e)},d.size=function(e){if(null==e)return 0;else return e.length===+e.length?e.length:d.keys(e).length},d.partition=function(e,t,n){t=g(t,n);var r=[],i=[];return d.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},d.first=d.head=d.take=function(e,t,n){if(null==e)return void 0;if(null==t||n)return e[0];if(0>t)return[];else return u.call(e,0,t)},d.initial=function(e,t,n){return u.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},d.last=function(e,t,n){if(null==e)return void 0;if(null==t||n)return e[e.length-1];else return u.call(e,Math.max(e.length-t,0))},d.rest=d.tail=d.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},d.compact=function(e){return d.filter(e,d.identity)};var b=function(e,t,n,r){if(t&&d.every(e,d.isArray))return c.apply(r,e);for(var i=0,o=e.length;o>i;i++){var u=e[i];if(!d.isArray(u)&&!d.isArguments(u)){if(!n)r.push(u)}else if(t)a.apply(r,u);else b(u,t,n,r)}return r};d.flatten=function(e,t){return b(e,t,!1,[])},d.without=function(e){return d.difference(e,u.call(arguments,1))},d.uniq=d.unique=function(e,t,n,r){if(null==e)return[];if(d.isFunction(t))r=n,n=t,t=!1;if(n)n=g(n,r);for(var i=[],o=[],a=0,u=e.length;u>a;a++){var c=e[a];if(n)c=n(c,a,e);if(t?!a||o!==c:!d.contains(o,c)){if(t)o=c;else o.push(c);i.push(e[a])}}return i},d.union=function(){return d.uniq(b(arguments,!0,!0,[]))},d.intersection=function(e){if(null==e)return[];for(var t=[],n=arguments.length,r=0,i=e.length;i>r;r++){var o=e[r];if(!d.contains(t,o)){for(var a=1;n>a&&d.contains(arguments[a],o);a++);if(a===n)t.push(o)}else;}return t},d.difference=function(e){var t=b(u.call(arguments,1),!0,!0,[]);return d.filter(e,function(e){return!d.contains(t,e)})},d.zip=function(e){if(null==e)return[];for(var t=d.max(arguments,"length").length,n=Array(t),r=0;t>r;r++)n[r]=d.pluck(arguments,r);return n},d.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)if(t)n[e[r]]=t[r];else n[e[r][0]]=e[r][1];return n},d.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n)if("number"==typeof n)r=0>n?Math.max(0,i+n):n;else return r=d.sortedIndex(e,t),e[r]===t?r:-1;for(;i>r;r++)if(e[r]===t)return r;return-1},d.lastIndexOf=function(e,t,n){if(null==e)return-1;for(var r=null==n?e.length:n;r--;)if(e[r]===t)return r;return-1},d.range=function(e,t,n){if(arguments.length<=1)t=e||0,e=0;n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,o=Array(r);r>i;)o[i++]=e,e+=n;return o};var _=function(){};d.bind=function(e,t){var n,r;if(h&&e.bind===h)return h.apply(e,u.call(arguments,1));if(!d.isFunction(e))throw TypeError("Bind must be called on a function");return n=u.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(u.call(arguments)));_.prototype=e.prototype;var i=new _;_.prototype=null;var o=e.apply(i,n.concat(u.call(arguments)));if(Object(o)===o)return o;else return i}},d.partial=function(e){var t=u.call(arguments,1);return function(){for(var n=0,r=t.slice(),i=0,o=r.length;o>i;i++)if(r[i]===d)r[i]=arguments[n++];for(;n<arguments.length;)r.push(arguments[n++]);return e.apply(this,r)}},d.bindAll=function(e){var t,n=1,r=arguments.length;if(1>=r)throw Error("bindAll must be passed function names");for(;r>n;n++)t=arguments[n],e[t]=v(e[t],e,1/0);return e},d.memoize=function(e,t){var n=function(r){var i=n.cache,o=t?t.apply(this,arguments):r;if(!d.has(i,o))i[o]=e.apply(this,arguments);return i[r]};return n.cache={},n},d.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},d.defer=function(e){return d.delay.apply(d,[e,1].concat(u.call(arguments,1)))},d.throttle=function(e,t,n){var r,i,o,a=null,u=0;if(!n)n={};var c=function(){if(u=n.leading===!1?0:d.now(),a=null,o=e.apply(r,i),!a)r=i=null};return function(){var l=d.now();if(!u&&n.leading===!1)u=l;var f=t-(l-u);if(r=this,i=arguments,0>=f||f>t){if(clearTimeout(a),a=null,u=l,o=e.apply(r,i),!a)r=i=null}else if(!a&&n.trailing!==!1)a=setTimeout(c,f);return o}},d.debounce=function(e,t,n){var r,i,o,a,u,c=function(){var l=d.now()-a;if(t>l&&l>0)r=setTimeout(c,t-l);else if(r=null,!n)if(u=e.apply(o,i),!r)o=i=null};return function(){o=this,i=arguments,a=d.now();var l=n&&!r;if(!r)r=setTimeout(c,t);if(l)u=e.apply(o,i),o=i=null;return u}},d.once=function(e){var t,n=!1;return function(){if(n)return t;else return n=!0,t=e.apply(this,arguments),e=null,t}},d.wrap=function(e,t){return d.partial(t,e)},d.negate=function(e){return function(){return!e.apply(this,arguments)}},d.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},d.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments);else return void 0}},d.keys=function(e){if(!d.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)if(d.has(e,n))t.push(n);return t},d.values=function(e){for(var t=d.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},d.pairs=function(e){for(var t=d.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},d.invert=function(e){for(var t={},n=d.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},d.functions=d.methods=function(e){var t=[];for(var n in e)if(d.isFunction(e[n]))t.push(n);return t.sort()},d.extend=function(e){if(!d.isObject(e))return e;for(var t,n,r=1,i=arguments.length;i>r;r++){t=arguments[r];for(n in t)e[n]=t[n]}return e},d.pick=function(e,t,n){var r,i={};if(d.isFunction(t))for(r in e){var o=e[r];if(t.call(n,o,r,e))i[r]=o}else for(var a=c.apply([],u.call(arguments,1)),l=0,f=a.length;f>l;l++)if(r=a[l],r in e)i[r]=e[r];return i},d.omit=function(e,t,n){if(d.isFunction(t))t=d.negate(t);else{var r=d.map(c.apply([],u.call(arguments,1)),String);t=function(e,t){return!d.contains(r,t)}}return d.pick(e,t,n)},d.defaults=function(e){if(!d.isObject(e))return e;for(var t=1,n=arguments.length;n>t;t++){var r=arguments[t];for(var i in r)if(void 0===e[i])e[i]=r[i]}return e},d.clone=function(e){if(!d.isObject(e))return e;else return d.isArray(e)?e.slice():d.extend({},e)},d.tap=function(e,t){return t(e),e};var w=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;if(e instanceof d)e=e._wrapped;if(t instanceof d)t=t._wrapped;var i=l.call(e);if(i!==l.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":if(e!=+e)return t!=+t;else return 0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e===+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]===e)return r[o]===t;var a=e.constructor,u=t.constructor;if(a!==u&&"constructor"in e&&"constructor"in t&&!(d.isFunction(a)&&a instanceof a&&d.isFunction(u)&&u instanceof u))return!1;n.push(e),r.push(t);var c,f;if("[object Array]"===i){if(c=e.length,f=c===t.length)for(;c--&&(f=w(e[c],t[c],n,r)););}else{var s,p=d.keys(e);if(c=p.length,f=d.keys(t).length==c)for(;c--&&(s=p[c],f=d.has(t,s)&&w(e[s],t[s],n,r)););}return n.pop(),r.pop(),f};if(d.isEqual=function(e,t){return w(e,t,[],[])},d.isEmpty=function(e){if(null==e)return!0;if(d.isArray(e)||d.isString(e)||d.isArguments(e))return 0===e.length;for(var t in e)if(d.has(e,t))return!1;return!0},d.isElement=function(e){return!(!e||1!==e.nodeType)},d.isArray=s||function(e){return"[object Array]"===l.call(e)},d.isObject=function(e){return e===Object(e)},d.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){d["is"+e]=function(t){return l.call(t)==="[object "+e+"]"}}),!d.isArguments(arguments))d.isArguments=function(e){return d.has(e,"callee")};if("function"!=typeof/./)d.isFunction=function(e){return"function"==typeof e};d.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},d.isNaN=function(e){return d.isNumber(e)&&e!==+e},d.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===l.call(e)},d.isNull=function(e){return null===e},d.isUndefined=function(e){return void 0===e},d.has=function(e,t){return null!=e&&f.call(e,t)},d.noConflict=function(){return e._=t,this},d.identity=function(e){return e},d.constant=function(e){return function(){return e}},d.noop=function(){},d.property=function(e){return function(t){return t[e]}},d.matches=function(e){return function(t){if(null==t)return d.isEmpty(e);if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},d.times=function(e,t,n){var r=Array(Math.max(0,e));t=v(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},d.random=function(e,t){if(null==t)t=e,e=0;return e+Math.floor(Math.random()*(t-e+1))},d.now=Date.now||function(){return(new Date).getTime()};var E={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};E.unescape=d.invert(E.escape);var k={escape:RegExp("["+d.keys(E.escape).join("")+"]","g"),unescape:RegExp("("+d.keys(E.unescape).join("|")+")","g")};d.each(["escape","unescape"],function(e){d[e]=function(t){if(null==t)return"";else return(""+t).replace(k[e],function(t){return E[e][t]})}}),d.result=function(e,t){if(null==e)return void 0;var n=e[t];return d.isFunction(n)?e[t]():n};var x=0;d.uniqueId=function(e){var t=++x+"";return e?e+t:t},d.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/(.)^/,j={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\u2028|\u2029/g,C=function(e){return"\\"+j[e]};d.template=function(e,t,n){n=d.defaults({},n,d.templateSettings);var r=RegExp([(n.escape||A).source,(n.interpolate||A).source,(n.evaluate||A).source].join("|")+"|$","g"),i=0,o="__p+='";if(e.replace(r,function(t,n,r,a,u){if(o+=e.slice(i,u).replace(O,C),i=u+t.length,n)o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'";else if(r)o+="'+\n((__t=("+r+"))==null?'':__t)+\n'";else if(a)o+="';\n"+a+"\n__p+='";return t}),o+="';\n",!n.variable)o="with(obj||{}){\n"+o+"}\n";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return a(t,d);var c=function(e){return a.call(this,e,d)},l=n.variable||"obj";return c.source="function("+l+"){\n"+o+"}",c},d.chain=function(e){var t=d(e);return t._chain=!0,t};var I=function(e){return this._chain?d(e).chain():e};d.mixin=function(e){d.each(d.functions(e),function(t){var n=d[t]=e[t];d.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),I.call(this,n.apply(d,e))}})},d.mixin(d),d.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];d.prototype[e]=function(){var n=this._wrapped;if(t.apply(n,arguments),("shift"===e||"splice"===e)&&0===n.length)delete n[0];return I.call(this,n)}}),d.each(["concat","join","slice"],function(e){var t=r[e];d.prototype[e]=function(){return I.call(this,t.apply(this._wrapped,arguments))}}),d.prototype.value=function(){return this._wrapped}}).call(this)}),define("underscore",["underscore/underscore"],function(e){return e}),void function(e){e("eoo/oo",[],function(){function e(){return e.create.apply(e,arguments)}function t(t){var n=function(){return n.prototype.constructor.apply(this,arguments)};o.prototype=t.prototype;var r=n.prototype=new o;if(r.$self=n,!("$super"in r))r.$super=e.prototype.$super;return n.$superClass=t,n}function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e,t){for(var r in e)n(e,r)&&t(e[r],r,e);if(c)for(var i=l.length-1;i>-1;--i){var o=l[i];n(e,o)&&t(e[o],o,e)}}function i(){return this.prototype.constructor.toString()}var o=function(){},a="__eooName__",u="__eooOwner__";e.create=function(n,o){if(o=o||{},n=n||e,"object"==typeof n)o=n,n=e;var c=t(n),l=c.prototype;return r(o,function(e,t){if("function"==typeof e)e[a]=t,e[u]=c;l[t]=e}),c.toString=i,c},e.static="function"==typeof Object.create?Object.create:function(e){if(arguments.length>1)throw new Error("Second argument not supported");if(!(e instanceof Object))throw new TypeError("Argument must be an object");return o.prototype=e,new o},e.toString=function(){return"function Class() { [native code] }"},e.prototype={constructor:function(){},$self:e,$superClass:Object,$super:function(e){var t=this.$super.caller,n=t[a],r=t[u].$superClass,i=r.prototype[n];if("function"!=typeof i)throw new TypeError("Call the super class's "+n+", but it is not a function!");return i.apply(this,e)}};var c=!{toString:1}.propertyIsEnumerable("toString"),l=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","toLocaleString","valueOf"];return e})}("function"==typeof define&&define.amd?define:function(e){module.exports=e(require)}),void function(e){e("eoo/defineAccessor",["require"],function(){function e(e){var t="return typeof this."+n+" === 'object' ? this."+n+"['"+e+"'] : undefined;";return new Function(t)}function t(e){var t="this."+n+" = this."+n+" || {};\nthis."+n+"['"+e+"'] = value;";return new Function("value",t)}var n="__eooPrivateMembers__";return function(n,r,i){var o=r.charAt(0).toUpperCase()+r.slice(1),a="get"+o,u="set"+o;if(!i)n[a]=!i||"function"!=typeof i.get?e(r):i.get,n[u]=!i||"function"!=typeof i.set?t(r):i.set;else"function"==typeof i.get&&(n[a]=i.get),"function"==typeof i.set&&(n[u]=i.set)}})}("function"==typeof define&&define.amd?define:function(e){module.exports=e(require)}),void function(e){e("eoo/main",["require","./oo","./defineAccessor"],function(require){var e=require("./oo");return e.defineAccessor=require("./defineAccessor"),e})}("function"==typeof define&&define.amd?define:function(e){module.exports=e(require)}),define("eoo",["eoo/main"],function(e){return e}),define("fc-core/oo",["require","underscore","./assert","eoo"],function(require){"use strict";var e=require("underscore"),t=require("./assert"),n=require("eoo"),exports={};return exports.create=function(e){return n.create(e)},exports.derive=function(r,i){return t.has(r,"fc.oo.derive使用时必须指定`superClass`参数！"),t.equals(e.isObject(i)||void 0===i,!0,"错误的fc.oo.derive参数，传入的`overrides`必须是一个Object"),n.create(r,i)},exports}),void function(e){e("promise/util",["require"],function(){var e={},t=Function.prototype.bind;if("function"==typeof t)e.bind=function(e){return t.apply(e,[].slice.call(arguments,1))};else e.bind=function(e,t){var n=[].slice.call(arguments,2);return function(){var r=n.concat([].slice.call(arguments));return e.apply(t,r)}};return e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.getThen=function(e){return e&&("object"==typeof e||"function"==typeof e)&&e.then},e})}("function"==typeof define&&define.amd?define:function(e){module.exports=e(require)},this),void function(e){e("promise/setImmediate",["require","./util"],function(require){function e(e){return r[i]=e,i++}function t(e){var t=r[e];if(t)delete r[e],t()}var n=function(){return this}(),r={},i=1;if("function"==typeof n.setImmediate)return require("./util").bind(n.setImmediate,n);if("function"==typeof n.nextTick)return n.nextTick;if(n.MutationObserver||n.webKitMutationObserver){var o="data-promise-tick",a=n.MutationObserver||n.webKitMutationObserver,u=function(e,n){var r=e[0];if(r.attributeName===o){var i=r.target.getAttribute(o);t(i),n.disconnect(r.target)}};return function(t){var n=document.createElement("div"),r=new a(u);r.observe(n,{attributes:!0});var i=e(t);n.setAttribute(o,i)}}if("function"==typeof postMessage&&"function"!=typeof n.importScript){var c=!0,l=n.onmessage;if(n.onmessage=function(){c=!1},n.postMessage("","*"),n.onmessage=l,c){var f="promise-tick-",s=function(e){if(e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(f)){var r=e.data.substring(f.length);t(r)}};if(n.addEventListener)n.addEventListener("message",s,!1);else n.attachEvent("onmessage",s);return function(t){var r=e(t);n.postMessage(f+r,"*")}}}if(n.MessageChannel){var p=new MessageChannel;return p.port1.onmessage=function(e){var n=e.data;t(n)},function(t){var n=e(t);p.port2.postMessage(n)}}if("onreadystatechange"in document.createElement("script")){var h=document.documentElement;return function(e){var t=document.createElement("script");t.onreadystatechange=function(){e(),t.onreadystatechange=null,h.removeChild(t),t=null},h.appendChild(t)}}return function(e){setTimeout(e,0)}})}("function"==typeof define&&define.amd?define:function(e){module.exports=e(require)},this),define("fc-core/setImmediate",["require","promise/setImmediate"],function(require){return require("promise/setImmediate")}),function(e){function t(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];return e}function n(){this.raw=[],this.length=0}function r(){return"___"+I++}function i(e,t){var n=new Function;n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e){return S[e]}function a(e){return'"'+e.replace(/\x5C/g,"\\\\").replace(/"/g,'\\"').replace(/\x0A/g,"\\n").replace(/\x09/g,"\\t").replace(/\x0D/g,"\\r")+'"'}function u(e){return e.replace(/[\^\[\]\$\(\)\{\}\?\*\.\+]/g,function(e){return"\\"+e})}function c(e){var t=arguments;return e.replace(/\{([0-9]+)\}/g,function(e,n){return t[n-0+1]})}function l(e){return e=e.replace(/^\s*\*/,""),c('gv({0},["{1}"])',a(e),e.replace(/\[['"]?([^'"]+)['"]?\]/g,function(e,t){return"."+t}).split(".").join('","'))}function f(e,t,n,r,i,o){for(var a=n.length,u=e.split(t),c=0,l=[],f=0,s=u.length;s>f;f++){var p=u[f];if(f){var h=1;for(c++;;){var d=p.indexOf(n);if(0>d){l.push(c>1&&h?t:"",p);break}if(c=r?c-1:0,l.push(c>0&&h?t:"",p.slice(0,d),c>0?n:""),p=p.slice(d+a),h=0,0===c)break}if(0===c)i(l.join("")),o(p),l=[]}else p&&o(p)}if(c>0&&l.length>0)o(t),o(l.join(""))}function s(e,t,n){var r,i=[],o=t.options,u="",c="",p="",h="";if(n)u="ts(",c=")",p=T,h=N,r=o.defaultFilter;return f(e,o.variableOpen,o.variableClose,1,function(e){if(n&&e.indexOf("|")<0&&r)e+="|"+r;var o=e.indexOf("|"),a=(o>0?e.slice(0,o):e).replace(/^\s+/,"").replace(/\s+$/,""),f=o>0?e.slice(o+1):"",d=0===a.indexOf("*"),v=[d?"":u,l(a),d?"":c];if(f){f=s(f,t);for(var g=f.split("|"),m=0,y=g.length;y>m;m++){var b=g[m];if(/^\s*([a-z0-9_-]+)(\((.*)\))?\s*$/i.test(b)){if(v.unshift('fs["'+RegExp.$1+'"]('),RegExp.$3)v.push(",",RegExp.$3);v.push(")")}}}i.push(p,v.join(""),h)},function(e){i.push(p,n?a(e):e,h)}),i.join("")}function p(e,t){this.value=e,this.engine=t}function h(e,t){this.value=e,this.engine=t,this.children=[],this.cloneProps=[]}function d(e,t){var n=e.stack,r=t?n.find(function(e){return e instanceof t}):n.bottom();if(r){for(var i;(i=n.top())!==r;){if(!i.autoClose)throw new Error(i.type+" must be closed manually: "+i.value);i.autoClose(e)}r.close(e)}return r}function v(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*(\(\s*master\s*=\s*([a-z0-9\/_-]+)\s*\))?\s*/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.master=RegExp.$3,this.name=RegExp.$1,h.call(this,e,t),this.blocks={}}function g(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,h.call(this,e,t),this.cloneProps=["name"]}function m(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,h.call(this,e,t),this.cloneProps=["name","state","blocks"],this.blocks={}}function y(e,t){if(!/^\s*([a-z0-9_]+)\s*=([\s\S]*)$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,this.expr=RegExp.$2,h.call(this,e,t),this.cloneProps=["name","expr"]}function b(e,t){if(!/^\s*([a-z0-9_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,this.args=RegExp.$3,h.call(this,e,t),this.cloneProps=["name","args"]}function _(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,this.args=RegExp.$3,h.call(this,e,t),this.cloneProps=["name","args"]}function w(e,t){var n=new RegExp(c("^\\s*({0}[\\s\\S]+{1})\\s+as\\s+{0}([0-9a-z_]+){1}\\s*(,\\s*{0}([0-9a-z_]+){1})?\\s*$",u(t.options.variableOpen),u(t.options.variableClose)),"i");if(!n.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.list=RegExp.$1,this.item=RegExp.$2,this.index=RegExp.$4,h.call(this,e,t),this.cloneProps=["list","item","index"]}function E(e,t){h.call(this,e,t)}function k(e,t){E.call(this,e,t)}function x(e,t){h.call(this,e,t)}function A(e,t){t.target=e;var n=t.engine,r=e.name;if(n.targets[r])switch(n.options.namingConflict){case"override":n.targets[r]=e,t.targets.push(r);case"ignore":break;default:throw new Error("Target exists: "+r)}else n.targets[r]=e,t.targets.push(r)}function j(e,t){F[e]=t,t.prototype.type=e}function O(e){this.options={commandOpen:"<!--",commandClose:"-->",commandSyntax:/^\s*(\/)?([a-z]+)\s*(?::([\s\S]*))?$/,variableOpen:"${",variableClose:"}",defaultFilter:"html"},this.config(e),this.targets={},this.filters=t({},R)}function C(e,t){function r(){var e;if(s.length>0&&(e=s.join(""))){var n=new p(e,t);if(n.beforeAdd(l),c.top().addChild(n),s=[],t.options.strip&&l.current instanceof h)n.value=e.replace(/^[\x20\t\r]*\n/,"");l.current=n}}var i,o=t.options.commandOpen,a=t.options.commandClose,u=t.options.commandSyntax,c=new n,l={engine:t,targets:[],stack:c,target:null},s=[];return f(e,o,a,0,function(e){var n=u.exec(e);if(n&&(i=F[n[2].toLowerCase()])&&"function"==typeof i){r();var c=l.current;if(t.options.strip&&c instanceof p)c.value=c.value.replace(/\r?\n[\x20\t]*$/,"\n");if(n[1])c=d(l,i);else{if(c=new i(n[3],t),"function"==typeof c.beforeOpen)c.beforeOpen(l);c.open(l)}l.current=c}else if(!/^\s*\/\//.test(e))s.push(o,e,a);i=null},function(e){s.push(e)}),r(),d(l),l.targets}n.prototype={push:function(e){this.raw[this.length++]=e},pop:function(){if(this.length>0){var e=this.raw[--this.length];return this.raw.length=this.length,e}},top:function(){return this.raw[this.length-1]},bottom:function(){return this.raw[0]},find:function(e){for(var t=this.length;t--;){var n=this.raw[t];if(e(n))return n}}};var I=178245,S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},R={html:function(e){return e.replace(/[&<>"']/g,o)},url:encodeURIComponent,raw:function(e){return e}},P='var r="";',T="r+=",N=";",M="return r;";if("undefined"!=typeof navigator&&/msie\s*([0-9]+)/i.test(navigator.userAgent)&&RegExp.$1-0<8)P="var r=[],ri=0;",T="r[ri++]=",M='return r.join("");';p.prototype={getRendererBody:function(){var e=this.value,t=this.engine.options;if(!e||t.strip&&/^\s*$/.test(e))return"";else return s(e,this.engine,1)},clone:function(){return this}},h.prototype={addChild:function(e){this.children.push(e)},open:function(e){var t=e.stack.top();t&&t.addChild(this),e.stack.push(this)},close:function(e){if(e.stack.top()===this)e.stack.pop()},getRendererBody:function(){for(var e=[],t=this.children,n=0;n<t.length;n++)e.push(t[n].getRendererBody());return e.join("")},clone:function(){for(var e=new this.constructor(this.value,this.engine),t=0,n=this.children.length;n>t;t++)e.addChild(this.children[t].clone());for(var t=0,n=this.cloneProps.length;n>t;t++){var r=this.cloneProps[t];e[r]=this[r]}return e}};var $='data=data||{};var v={},fs=engine.filters,hg=typeof data.get=="function",gv=function(n,ps){var p=ps[0],d=v[p];if(d==null){if(hg){return data.get(n);}d=data[p];}for(var i=1,l=ps.length;i<l;i++)if(d!=null)d = d[ps[i]];return d;},ts=function(s){if(typeof s==="string"){return s;}if(s==null){s="";}return ""+s;};';i(v,h),i(g,h),i(m,h),i(y,h),i(b,h),i(_,h),i(w,h),i(E,h),i(k,E),i(x,E);var L={READING:1,READED:2,APPLIED:3,READY:4};m.prototype.applyMaster=v.prototype.applyMaster=function(e){function t(e){var r=e.children;if(r instanceof Array)for(var i=0,o=r.length;o>i;i++){var a=r[i];if(a instanceof g&&n[a.name])a=r[i]=n[a.name];t(a)}}if(this.state>=L.APPLIED)return 1;var n=this.blocks,r=this.engine.targets[e];if(r&&r.applyMaster(r.master))return this.children=r.clone().children,t(this),this.state=L.APPLIED,1;else return void 0},v.prototype.isReady=function(){function e(r){for(var i=0,o=r.children.length;o>i;i++){var a=r.children[i];if(a instanceof m){var u=t.targets[a.name];n=n&&u&&u.isReady(t)}else if(a instanceof h)e(a)}}if(this.state>=L.READY)return 1;var t=this.engine,n=1;if(this.applyMaster(this.master))return e(this),n&&(this.state=L.READY),n;else return void 0},v.prototype.getRenderer=function(){if(this.renderer)return this.renderer;if(this.isReady()){var e=new Function("data","engine",[$,P,this.getRendererBody(),M].join("\n")),t=this.engine;return this.renderer=function(n){return e(n,t)},this.renderer}return null},v.prototype.open=function(e){d(e),h.prototype.open.call(this,e),this.state=L.READING,A(this,e)},y.prototype.open=_.prototype.open=function(e){e.stack.top().addChild(this)},g.prototype.open=function(e){h.prototype.open.call(this,e),(e.imp||e.target).blocks[this.name]=this},k.prototype.open=function(e){var t=new x;t.open(e);var n=d(e,E);n.addChild(this),e.stack.push(this)},x.prototype.open=function(e){var t=d(e,E);t.addChild(this),e.stack.push(this)},m.prototype.open=function(e){this.parent=e.stack.top(),this.target=e.target,h.prototype.open.call(this,e),this.state=L.READING,e.imp=this},_.prototype.close=y.prototype.close=function(){},m.prototype.close=function(e){h.prototype.close.call(this,e),this.state=L.READED,e.imp=null},v.prototype.close=function(e){h.prototype.close.call(this,e),this.state=this.master?L.READED:L.APPLIED,e.target=null},m.prototype.autoClose=function(e){var t=this.parent.children;t.push.apply(t,this.children),this.children.length=0;for(var n in this.blocks)this.target.blocks[n]=this.blocks[n];this.blocks={},this.close(e)},_.prototype.beforeOpen=m.prototype.beforeOpen=y.prototype.beforeOpen=w.prototype.beforeOpen=b.prototype.beforeOpen=g.prototype.beforeOpen=E.prototype.beforeOpen=p.prototype.beforeAdd=function(e){if(!e.stack.bottom()){var t=new v(r(),e.engine);t.open(e)}},m.prototype.getRendererBody=function(){return this.applyMaster(this.name),h.prototype.getRendererBody.call(this)},_.prototype.getRendererBody=function(){return c("{0}engine.render({2},{{3}}){1}",T,N,a(this.name),s(this.args,this.engine).replace(/(^|,)\s*([a-z0-9_]+)\s*=/gi,function(e,t,n){return(t||"")+a(n)+":"}))},y.prototype.getRendererBody=function(){if(this.expr)return c("v[{0}]={1};",a(this.name),s(this.expr,this.engine));else return""},E.prototype.getRendererBody=function(){return c("if({0}){{1}}",s(this.value,this.engine),h.prototype.getRendererBody.call(this))},x.prototype.getRendererBody=function(){return c("}else{{0}",h.prototype.getRendererBody.call(this))},w.prototype.getRendererBody=function(){return c('var {0}={1};if({0} instanceof Array)for (var {4}=0,{5}={0}.length;{4}<{5};{4}++){v[{2}]={4};v[{3}]={0}[{4}];{6}}else if(typeof {0}==="object")for(var {4} in {0}){v[{2}]={4};v[{3}]={0}[{4}];{6}}',r(),s(this.list,this.engine),a(this.index||r()),a(this.item),r(),r(),h.prototype.getRendererBody.call(this))
},b.prototype.getRendererBody=function(){var e=this.args;return c("{2}fs[{5}]((function(){{0}{4}{1}})(){6}){3}",P,M,T,N,h.prototype.getRendererBody.call(this),a(this.name),e?","+s(e,this.engine):"")};var F={};j("target",v),j("block",g),j("import",m),j("use",_),j("var",y),j("for",w),j("if",E),j("elif",k),j("else",x),j("filter",b),O.prototype.config=function(e){t(this.options,e)},O.prototype.compile=O.prototype.parse=function(e){if(e){var t=C(e,this);if(t.length)return this.targets[t[0]].getRenderer()}return new Function('return ""')},O.prototype.getRenderer=function(e){var t=this.targets[e];if(t)return t.getRenderer();else return void 0},O.prototype.render=function(e,t){var n=this.getRenderer(e);if(n)return n(t);else return""},O.prototype.addFilter=function(e,t){if("function"==typeof t)this.filters[e]=t};var q=new O;if(q.Engine=O,"object"==typeof exports&&"object"==typeof module)exports=module.exports=q;else if("function"==typeof define&&define.amd)define("etpl/main",[],q);else e.etpl=q}(this),define("etpl",["etpl/main"],function(e){return e}),define("mini-event/lib",["require"],function(){var e={};return e.extend=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n){for(var r in n)if(n.hasOwnProperty(r))e[r]=n[r]}else;}return e},e}),define("mini-event/Event",["require","./lib"],function(require){function e(){return!0}function t(){return!1}function n(e){return"[object Object]"===Object.prototype.toString.call(e)}function r(e,t){if("object"==typeof e)t=e,e=t.type;if(n(t))i.extend(this,t);else if(t)this.data=t;if(e)this.type=e}var i=require("./lib");r.prototype.isDefaultPrevented=t,r.prototype.preventDefault=function(){this.isDefaultPrevented=e},r.prototype.isPropagationStopped=t,r.prototype.stopPropagation=function(){this.isPropagationStopped=e},r.prototype.isImmediatePropagationStopped=t,r.prototype.stopImmediatePropagation=function(){this.isImmediatePropagationStopped=e,this.stopPropagation()};var o=function(){return this}();r.fromDOMEvent=function(e,t,n){e=e||o.event;var i=new r(t,n);return i.preventDefault=function(){if(e.preventDefault)e.preventDefault();else e.returnValue=!1;r.prototype.preventDefault.call(this)},i.stopPropagation=function(){if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=!0;r.prototype.stopPropagation.call(this)},i.stopImmediatePropagation=function(){if(e.stopImmediatePropagation)e.stopImmediatePropagation();r.prototype.stopImmediatePropagation.call(this)},i};var a={type:!0,target:!0,preventDefault:!0,isDefaultPrevented:!0,stopPropagation:!0,isPropagationStopped:!0,stopImmediatePropagation:!0,isImmediatePropagationStopped:!0};return r.fromEvent=function(e,t){var n={type:e.type,preserveData:!1,syncState:!1};t=i.extend(n,t);var o=new r(t.type);if(t.preserveData)for(var u in e)if(e.hasOwnProperty(u)&&!a.hasOwnProperty(u))o[u]=e[u];if(t.extend)i.extend(o,t.extend);if(t.syncState)o.preventDefault=function(){e.preventDefault(),r.prototype.preventDefault.call(this)},o.stopPropagation=function(){e.stopPropagation(),r.prototype.stopPropagation.call(this)},o.stopImmediatePropagation=function(){e.stopImmediatePropagation(),r.prototype.stopImmediatePropagation.call(this)};return o},r.delegate=function(e,t,n,o,a){var u="string"==typeof t,c={object:e,type:u?t:n},l={object:u?n:t,type:u?o:n},f=u?a:o;if(f=i.extend({preserveData:!1},f),"function"==typeof c.object.on&&"function"==typeof l.object.on&&"function"==typeof l.object.fire){var s=function(e){var t=r.fromEvent(e,f);t.type=l.type,t.target=l.object,l.object.fire(l.type,t)};c.object.on(c.type,s)}},r}),define("fc-core/util",["require","underscore","mini-event/Event","etpl"],function(require){"use strict";function e(e){e=e||0;for(var t=[],n=0;e>n;n++)t.push("0123456789abcdef".charAt(Math.floor(16*Math.random())));return t.join("")}function t(e,t){return JSON.parse(require("etpl").compile(JSON.stringify(e))(t))}var n=require("underscore"),r={};r.guid=function(){var t=(new Date).valueOf().toString();return["4b534c46",e(4),"4"+e(3),e(4),t.substring(0,12)].join("-")},r.uid=function(){return[(new Date).valueOf().toString(),e(4)].join("")};var i=window.location.search.substring(1);return r.processError=window.DEBUG||/\bdebug\b/g.test(i)?function(e){if(e instanceof Error)window.console.error(e.stack);else if(e.error instanceof Error||n.isArray(e.error))r.processError(e.error);else if(n.isArray(e))n.each(e,r.processError);else if(e instanceof require("mini-event/Event")&&"error"===e.type)window.console.error(e.error.failType,e.error.reason,e);else window.console.error(e)}:n.noop,r.mixWith=t,r.customData=function(e){return{data:e}},r}),define("fc-core/extension/underscore",["require","underscore"],function(require){function e(e){var n=arguments.length;if(2>n)return e;for(var r=1;n>r;r++)t(arguments[0],arguments[r]);return arguments[0]}function t(t,n){for(var i in n)if(n.hasOwnProperty(i)){var a=o.call(t[i]),u=o.call(n[i]);switch(u){case"[object Object]":if(a!==u)t[i]=r.deepClone(n[i]);else{if(!t[i])t[i]=r.deepClone(n[i]);e(t[i],n[i])}break;case"[object Array]":t[i]=r.deepClone(n[i]);break;default:t[i]=n[i]}}else;return t}function n(){r.mixin(i)}var r=require("underscore"),i={};i.purify=function a(e,t,n){t=t||{};var i={};return r.each(e,function(e,r){var o=null==e||""===e,u=t.hasOwnProperty(r)&&t[r]===e;if(!o&&!u)if(n&&"object"==typeof e)i[r]=a(e,t[r],n);else i[r]=e}),i},i.trim=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},i.pascalize=function(e){if(e+="",/^[A-Z\-_]+$/.test(e))e=e.toLowerCase();return e=e.replace(/[\s-_]+(.)/g,function(e,t){return t.toUpperCase()}),e=e.charAt(0).toUpperCase()+e.slice(1)},i.camelize=function(e){return e=i.pascalize(e),e.charAt(0).toLowerCase()+e.slice(1)},i.dasherize=function(e){if(e=i.pascalize(e),e=e.replace(/[A-Z]{2,}/g,function(e){return e.charAt(0)+e.slice(1,-1).toLowerCase()+e.charAt(e.length-1)}),e=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}),"-"===e.charAt(0))e=e.substring(1);return e},i.constanize=function(e){return e=i.pascalize(e),e.toUpperCase()},i.pluralize=function(e){return e.replace(/y$/,"ie")+"s"},i.formatNumber=function(e,t,n,r){if("number"!=typeof arguments[1])r=arguments[2],n=arguments[1],t=0;if(r=r||"",n=n||"",null==e||isNaN(e))return r+n;e=parseFloat(e).toFixed(t);var i=e.split("."),o=i[0],a=i[1];o=o.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,");var u=r+o;if(a)u+="."+a;return u},i.pad=function(e,t,n){e+="";var r=n-e.length;if(r>0){var i=new Array(r+1).join(t);return i+e}return e},i.padRight=function(e,t,n){e+="";var r=n-e.length;if(r>0){var i=new Array(r+1).join(t);return e+i}return e},i.deepClone=function(e){if(!r.isObject(e)||r.isFunction(e))return e;if(r.isArray(e))return r.map(e,i.deepClone);var t={};return r.each(e,function(e,n){t[n]=i.deepClone(e)}),t};var o=Object.prototype.toString;return i.deepExtend=e,{activate:r.once(n)}}),define("fc-core/main",["require","./aop","./assert","./oo","./setImmediate","etpl","./util","./extension/underscore"],function(require){"use strict";var e={version:"0.0.1.alpha.7",aop:require("./aop"),assert:require("./assert"),oo:require("./oo"),setImmediate:require("./setImmediate"),tpl:require("etpl"),util:require("./util")};return e.tpl.config({namingConflict:"ignore"}),require("./extension/underscore").activate(),e}),define("fc-core",["fc-core/main"],function(e){return e}),function(){function e(e,t){if(e!==t){var n=e===e,r=t===t;if(e>t||!n||e===E&&r)return 1;if(t>e||!r||t===E&&n)return-1}return 0}function t(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function n(e,t,n){if(t!==t)return h(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function r(e){return"function"==typeof e||!1}function i(e){if("string"==typeof e)return e;else return null==e?"":e+""}function o(e){return e.charCodeAt(0)}function a(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function u(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function c(t,n){return e(t.criteria,n.criteria)||t.index-n.index}function l(t,n,r){for(var i=-1,o=t.criteria,a=n.criteria,u=o.length,c=r.length;++i<u;){var l=e(o[i],a[i]);if(l)if(i>=c)return l;else return l*(r[i]?1:-1)}return t.index-n.index}function f(e){return zt[e]}function s(e){return Ut[e]}function p(e){return"\\"+Ht[e]}function h(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function d(e){return!!e&&"object"==typeof e}function v(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function g(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)if(e[n]===t)e[n]=B,o[++i]=n;return o}function m(e,t){for(var n,r=-1,i=e.length,o=-1,a=[];++r<i;){var u=e[r],c=t?t(u,r,e):u;if(!r||n!==c)n=c,a[++o]=u}return a}function y(e){for(var t=-1,n=e.length;++t<n&&v(e.charCodeAt(t)););return t}function b(e){for(var t=e.length;t--&&v(e.charCodeAt(t)););return t}function _(e){return Wt[e]}function w(v){function G(e){if(d(e)&&!jc(e)&&!(e instanceof zt)){if(e instanceof et)return e;if(Ua.call(e,"__chain__")&&Ua.call(e,"__wrapped__"))return ai(e)}return new et(e)}function J(){}function et(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function zt(e){this.__wrapped__=e,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=Eu,this.__views__=null}function Ut(){var e=this.__actions__,t=this.__iteratees__,n=this.__views__,r=new zt(this.__wrapped__);return r.__actions__=e?nn(e):null,r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=t?nn(t):null,r.__takeCount__=this.__takeCount__,r.__views__=n?nn(n):null,r}function Wt(){if(this.__filtered__){var e=new zt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Vt(){var e=this.__wrapped__.value();if(!jc(e))return tr(e,this.__actions__);var t=this.__dir__,n=0>t,r=qr(0,e.length,this.__views__),i=r.start,o=r.end,a=o-i,u=n?o:i-1,c=gu(a,this.__takeCount__),l=this.__iteratees__,f=l?l.length:0,s=0,p=[];e:for(;a--&&c>s;){u+=t;for(var h=-1,d=e[u];++h<f;){var v=l[h],g=v.iteratee,m=v.type;if(m==L){if(v.done&&(n?u>v.index:u<v.index))v.count=0,v.done=!1;if(v.index=u,!v.done){var y=v.limit;if(!(v.done=y>-1?v.count++>=y:!g(d)))continue e}}else{var b=g(d);if(m==q)d=b;else if(!b)if(m==F)continue e;else break e}}p[s++]=d}return p}function Ht(){this.__data__={}}function Kt(e){return this.has(e)&&delete this.__data__[e]}function Gt(e){return"__proto__"==e?E:this.__data__[e]}function Yt(e){return"__proto__"!=e&&Ua.call(this.__data__,e)}function Zt(e,t){if("__proto__"!=e)this.__data__[e]=t;return this}function Xt(e){var t=e?e.length:0;for(this.data={hash:pu(null),set:new iu};t--;)this.push(e[t])}function en(e,t){var n=e.data,r="string"==typeof t||Ao(t)?n.set.has(t):n.hash[t];return r?0:-1}function tn(e){var t=this.data;if("string"==typeof e||Ao(e))t.set.add(e);else t.hash[e]=!0}function nn(e,t){var n=-1,r=e.length;for(t||(t=Ca(r));++n<r;)t[n]=e[n];return t}function rn(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function on(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function an(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function un(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];if(t(a,n,e))o[++i]=a}return o}function cn(e,t){for(var n=-1,r=e.length,i=Ca(r);++n<r;)i[n]=t(e[n],n,e);return i}function ln(e){for(var t=-1,n=e.length,r=wu;++t<n;){var i=e[t];if(i>r)r=i}return r}function fn(e){for(var t=-1,n=e.length,r=Eu;++t<n;){var i=e[t];if(r>i)r=i}return r}function sn(e,t,n,r){var i=-1,o=e.length;if(r&&o)n=e[++i];for(;++i<o;)n=t(n,e[i],i,e);return n}function pn(e,t,n,r){var i=e.length;if(r&&i)n=e[--i];for(;i--;)n=t(n,e[i],i,e);return n}function hn(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function dn(e){for(var t=e.length,n=0;t--;)n+=+e[t]||0;return n}function vn(e,t){return e===E?t:e}function gn(e,t,n,r){return e===E||!Ua.call(r,n)?t:e}function mn(e,t,n){var r=Fc(t);tu.apply(r,zu(t));for(var i=-1,o=r.length;++i<o;){var a=r[i],u=e[a],c=n(u,t[a],a,e,t);if((c===c?c!==u:u===u)||u===E&&!(a in e))e[a]=c}return e}function yn(e,t){for(var n=-1,r=null==e,i=!r&&Wr(e),o=i&&e.length,a=t.length,u=Ca(a);++n<a;){var c=t[n];if(i)u[n]=Vr(c,o)?e[c]:E;else u[n]=r?E:e[c]}return u}function bn(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}function _n(e,t,n){var r=typeof e;if("function"==r)return t===E?e:ir(e,t,n);if(null==e)return va;if("object"==r)return Fn(e);else return t===E?wa(e):qn(e,t)}function wn(e,t,n,r,i,o,a){var u;if(n)u=i?n(e,r,i):n(e);if(u!==E)return u;if(!Ao(e))return e;var c=jc(e);if(c){if(u=Dr(e),!t)return nn(e,u)}else{var l=Va.call(e),f=l==K;if(l==Z||l==z||f&&!i){if(u=Br(f?{}:e),!t)return Ru(u,e)}else return Dt[l]?zr(e,l,t):i?e:{}}o||(o=[]),a||(a=[]);for(var s=o.length;s--;)if(o[s]==e)return a[s];return o.push(e),a.push(u),(c?rn:Sn)(e,function(r,i){u[i]=wn(r,t,n,i,e,o,a)}),u}function En(e,t,n){if("function"!=typeof e)throw new La(D);return ou(function(){e.apply(E,n)},t)}function kn(e,t){var r=e?e.length:0,i=[];if(!r)return i;var o=-1,a=Fr(),u=a==n,c=u&&t.length>=200?Fu(t):null,l=t.length;if(c)a=en,u=!1,t=c;e:for(;++o<r;){var f=e[o];if(u&&f===f){for(var s=l;s--;)if(t[s]===f)continue e;i.push(f)}else if(a(t,f,0)<0)i.push(f)}return i}function xn(e,t){var n=!0;return Tu(e,function(e,r,i){return n=!!t(e,r,i)}),n}function An(e,t,n,r){var i=e.length;if(n=null==n?0:+n||0,0>n)n=-n>i?0:i+n;if(r=r===E||r>i?i:+r||0,0>r)r+=i;for(i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function jn(e,t){var n=[];return Tu(e,function(e,r,i){if(t(e,r,i))n.push(e)}),n}function On(e,t,n,r){var i;return n(e,function(e,n,o){if(t(e,n,o))return i=r?n:e,!1;else return void 0}),i}function Cn(e,t,n){for(var r=-1,i=e.length,o=-1,a=[];++r<i;){var u=e[r];if(d(u)&&Wr(u)&&(n||jc(u)||yo(u))){if(t)u=Cn(u,t,n);for(var c=-1,l=u.length;++c<l;)a[++o]=u[c]}else if(!n)a[++o]=u}return a}function In(e,t){return Mu(e,t,zo)}function Sn(e,t){return Mu(e,t,Fc)}function Rn(e,t){return $u(e,t,Fc)}function Pn(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];if(Cc(e[a]))o[++i]=a}return o}function Tn(e,t,n){if(null!=e){if(n!==E&&n in ii(e))t=[n];for(var r=-1,i=t.length;null!=e&&++r<i;)e=e[t[r]];return r&&r==i?e:E}}function Nn(e,t,n,r,i,o){if(e===t)return!0;var a=typeof e,u=typeof t;if("function"!=a&&"object"!=a&&"function"!=u&&"object"!=u||null==e||null==t)return e!==e&&t!==t;else return Mn(e,t,Nn,n,r,i,o)}function Mn(e,t,n,r,i,o,a){var u=jc(e),c=jc(t),l=U,f=U;if(!u)if(l=Va.call(e),l==z)l=Z;else if(l!=Z)u=To(e);if(!c)if(f=Va.call(t),f==z)f=Z;else if(f!=Z)c=To(t);var s=l==Z,p=f==Z,h=l==f;if(h&&!u&&!s)return Nr(e,t,l);if(!i){var d=s&&Ua.call(e,"__wrapped__"),v=p&&Ua.call(t,"__wrapped__");if(d||v)return n(d?e.value():e,v?t.value():t,r,i,o,a)}if(!h)return!1;o||(o=[]),a||(a=[]);for(var g=o.length;g--;)if(o[g]==e)return a[g]==t;o.push(e),a.push(t);var m=(u?Tr:Mr)(e,t,n,r,i,o,a);return o.pop(),a.pop(),m}function $n(e,t,n,r,i){for(var o=-1,a=t.length,u=!i;++o<a;)if(u&&r[o]?n[o]!==e[t[o]]:!(t[o]in e))return!1;for(o=-1;++o<a;){var c=t[o],l=e[c],f=n[o];if(u&&r[o])var s=l!==E||c in e;else if(s=i?i(l,f,c):E,s===E)s=Nn(f,l,i,!0);if(!s)return!1}return!0}function Ln(e,t){var n=-1,r=Wr(e)?Ca(e.length):[];return Tu(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Fn(e){var t=Fc(e),n=t.length;if(!n)return da(!0);if(1==n){var r=t[0],i=e[r];if(Zr(i))return function(e){if(null==e)return!1;else return e[r]===i&&(i!==E||r in ii(e))}}for(var o=Ca(n),a=Ca(n);n--;)i=e[t[n]],o[n]=i,a[n]=Zr(i);return function(e){return null!=e&&$n(ii(e),t,o,a)}}function qn(e,t){var n=jc(e),r=Kr(e)&&Zr(t),i=e+"";return e=oi(e),function(o){if(null==o)return!1;var a=i;if(o=ii(o),!(!n&&r||a in o)){if(o=1==e.length?o:Tn(o,Kn(e,0,-1)),null==o)return!1;a=_i(e),o=ii(o)}return o[a]===t?t!==E||a in o:Nn(t,o[a],null,!0)}}function Dn(e,t,n,r,i){if(!Ao(e))return e;var o=Wr(t)&&(jc(t)||To(t));if(!o){var a=Fc(t);tu.apply(a,zu(t))}return rn(a||t,function(u,c){if(a)c=u,u=t[c];if(d(u))r||(r=[]),i||(i=[]),Bn(e,t,c,Dn,n,r,i);else{var l=e[c],f=n?n(l,u,c,e,t):E,s=f===E;if(s)f=u;if((o||f!==E)&&(s||(f===f?f!==l:l===l)))e[c]=f}}),e}function Bn(e,t,n,r,i,o,a){for(var u=o.length,c=t[n];u--;)if(o[u]==c)return void(e[n]=a[u]);var l=e[n],f=i?i(l,c,n,e,t):E,s=f===E;if(s)if(f=c,Wr(c)&&(jc(c)||To(c)))f=jc(l)?l:Wr(l)?nn(l):[];else if(Ic(c)||yo(c))f=yo(l)?$o(l):Ic(l)?l:{};else s=!1;if(o.push(c),a.push(f),s)e[n]=r(f,c,i,o,a);else if(f===f?f!==l:l===l)e[n]=f}function zn(e){return function(t){return null==t?E:t[e]}}function Un(e){var t=e+"";return e=oi(e),function(n){return Tn(n,e,t)}}function Wn(e,t){for(var n=e?t.length:0;n--;){var r=parseFloat(t[n]);if(r!=i&&Vr(r)){var i=r;au.call(e,r,1)}}return e}function Vn(e,t){return e+Ja(_u()*(t-e+1))}function Hn(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function Kn(e,t,n){var r=-1,i=e.length;if(t=null==t?0:+t||0,0>t)t=-t>i?0:i+t;if(n=n===E||n>i?i:+n||0,0>n)n+=i;i=t>n?0:n-t>>>0,t>>>=0;for(var o=Ca(i);++r<i;)o[r]=e[r+t];return o}function Gn(e,t){var n;return Tu(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Yn(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Zn(e,t,n){var r=Lr(),i=-1;t=cn(t,function(e){return r(e)});var o=Ln(e,function(e){var n=cn(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Yn(o,function(e,t){return l(e,t,n)})}function Xn(e,t){var n=0;return Tu(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function Jn(e,t){var r=-1,i=Fr(),o=e.length,a=i==n,u=a&&o>=200,c=u?Fu():null,l=[];if(c)i=en,a=!1;else u=!1,c=t?[]:l;e:for(;++r<o;){var f=e[r],s=t?t(f,r,e):f;if(a&&f===f){for(var p=c.length;p--;)if(c[p]===s)continue e;if(t)c.push(s);l.push(f)}else if(i(c,s,0)<0){if(t||u)c.push(s);l.push(f)}}return l}function Qn(e,t){for(var n=-1,r=t.length,i=Ca(r);++n<r;)i[n]=e[t[n]];return i}function er(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Kn(e,r?0:o,r?o+1:i):Kn(e,r?o+1:0,r?i:o)}function tr(e,t){var n=e;if(n instanceof zt)n=n.value();for(var r=-1,i=t.length;++r<i;){var o=[n],a=t[r];tu.apply(o,a.args),n=a.func.apply(a.thisArg,o)}return n}function nr(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Au>=i){for(;i>r;){var o=r+i>>>1,a=e[o];if(n?t>=a:t>a)r=o+1;else i=o}return i}return rr(e,t,va,n)}function rr(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,u=t===E;o>i;){var c=Ja((i+o)/2),l=n(e[c]),f=l===l;if(a)var s=f||r;else if(u)s=f&&(r||l!==E);else s=r?t>=l:t>l;if(s)i=c+1;else o=c}return gu(o,xu)}function ir(e,t,n){if("function"!=typeof e)return va;if(t===E)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}function or(e){return Ya.call(e,0)}function ar(e,t,n){for(var r=n.length,i=-1,o=vu(e.length-r,0),a=-1,u=t.length,c=Ca(o+u);++a<u;)c[a]=t[a];for(;++i<r;)c[n[i]]=e[i];for(;o--;)c[a++]=e[i++];return c}function ur(e,t,n){for(var r=-1,i=n.length,o=-1,a=vu(e.length-i,0),u=-1,c=t.length,l=Ca(a+c);++o<a;)l[o]=e[o];for(var f=o;++u<c;)l[f+u]=t[u];for(;++r<i;)l[f+n[r]]=e[o++];return l}function cr(e,t){return function(n,r,i){var o=t?t():{};if(r=Lr(r,i,3),jc(n))for(var a=-1,u=n.length;++a<u;){var c=n[a];e(o,c,r(c,a,n),n)}else Tu(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function lr(e){return so(function(t,n){var r=-1,i=null==t?0:n.length,o=i>2&&n[i-2],a=i>2&&n[2],u=i>1&&n[i-1];if("function"==typeof o)o=ir(o,u,5),i-=2;else o="function"==typeof u?u:null,i-=o?1:0;if(a&&Hr(n[0],n[1],a))o=3>i?null:o,i=1;for(;++r<i;){var c=n[r];if(c)e(t,c,o)}return t})}function fr(e,t){return function(n,r){var i=n?Bu(n):0;if(!Yr(i))return e(n,r);for(var o=t?i:-1,a=ii(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function sr(e){return function(t,n,r){for(var i=ii(t),o=r(t),a=o.length,u=e?a:-1;e?u--:++u<a;){var c=o[u];if(n(i[c],c,i)===!1)break}return t}}function pr(e,t){function n(){var i=this&&this!==Jt&&this instanceof n?r:e;return i.apply(t,arguments)}var r=dr(e);return n}function hr(e){return function(t){for(var n=-1,r=pa(Jo(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function dr(e){return function(){var t=Pu(e.prototype),n=e.apply(t,arguments);return Ao(n)?n:t}}function vr(e){function t(n,r,i){if(i&&Hr(n,r,i))r=null;var o=Pr(n,e,null,null,null,null,null,r);return o.placeholder=t.placeholder,o}return t}function gr(e,t){return function(n,r,i){if(i&&Hr(n,r,i))r=null;var a=Lr(),u=null==r;if(a!==_n||!u)u=!1,r=a(r,i,3);if(u){var c=jc(n);if(!c&&Po(n))r=o;else return e(c?n:ri(n))}return $r(n,r,t)}}function mr(e,n){return function(r,i,o){if(i=Lr(i,o,3),jc(r)){var a=t(r,i,n);return a>-1?r[a]:E}return On(r,i,e)}}function yr(e){return function(n,r,i){if(!n||!n.length)return-1;else return r=Lr(r,i,3),t(n,r,e)}}function br(e){return function(t,n,r){return n=Lr(n,r,3),On(t,n,e,!0)}}function _r(e){return function(){var t=arguments.length;if(!t)return function(){return arguments[0]};for(var n,r=e?t:-1,i=0,o=Ca(t);e?r--:++r<t;){var a=o[i++]=arguments[r];if("function"!=typeof a)throw new La(D);var u=n?"":Du(a);n="wrapper"==u?new et([]):n}for(r=n?-1:t;++r<t;){a=o[r],u=Du(a);var c="wrapper"==u?qu(a):null;if(c&&Gr(c[0])&&c[1]==(R|O|I|P)&&!c[4].length&&1==c[9])n=n[Du(c[0])].apply(n,c[3]);else n=1==a.length&&Gr(a)?n[u]():n.thru(a)}return function(){var e=arguments;if(n&&1==e.length&&jc(e[0]))return n.plant(e[0]).value();for(var r=0,i=o[r].apply(this,e);++r<t;)i=o[r].call(this,i);return i}}}function wr(e,t){return function(n,r,i){return"function"==typeof r&&i===E&&jc(n)?e(n,r):t(n,ir(r,i,3))}}function Er(e){return function(t,n,r){if("function"!=typeof n||r!==E)n=ir(n,r,3);return e(t,n,zo)}}function kr(e){return function(t,n,r){if("function"!=typeof n||r!==E)n=ir(n,r,3);return e(t,n)}}function xr(e){return function(t,n,r){var i={};return n=Lr(n,r,3),Sn(t,function(t,r,o){var a=n(t,r,o);r=e?a:r,t=e?t:a,i[r]=t}),i}}function Ar(e){return function(t,n,r){return t=i(t),(e?t:"")+Ir(t,n,r)+(e?"":t)}}function jr(e){var t=so(function(n,r){var i=g(r,t.placeholder);return Pr(n,e,null,r,i)});return t}function Or(e,t){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===E&&jc(n)?e(n,r,i,a):Hn(n,Lr(r,o,4),i,a,t)}}function Cr(e,t,n,r,i,o,a,u,c,l){function f(){for(var _=arguments.length,w=_,k=Ca(_);w--;)k[w]=arguments[w];if(r)k=ar(k,r,i);if(o)k=ur(k,o,a);if(d||m){var j=f.placeholder,O=g(k,j);if(_-=O.length,l>_){var C=u?nn(u):null,R=vu(l-_,0),P=d?O:null,T=d?null:O,N=d?k:null,M=d?null:k;if(t|=d?I:S,t&=~(d?S:I),!v)t&=~(x|A);var $=[e,t,n,N,P,M,T,C,c,R],L=Cr.apply(E,$);if(Gr(e))Uu(L,$);return L.placeholder=j,L}}var F=p?n:this;if(h)e=F[b];if(u)k=ei(k,u);if(s&&c<k.length)k.length=c;var q=this&&this!==Jt&&this instanceof f?y||dr(e):e;return q.apply(F,k)}var s=t&R,p=t&x,h=t&A,d=t&O,v=t&j,m=t&C,y=!h&&dr(e),b=e;return f}function Ir(e,t,n){var r=e.length;if(t=+t,r>=t||!hu(t))return"";var i=t-r;return n=null==n?" ":n+"",ia(n,Za(i/n.length)).slice(0,i)}function Sr(e,t,n,r){function i(){for(var t=-1,u=arguments.length,c=-1,l=r.length,f=Ca(u+l);++c<l;)f[c]=r[c];for(;u--;)f[c++]=arguments[++t];var s=this&&this!==Jt&&this instanceof i?a:e;return s.apply(o?n:this,f)}var o=t&x,a=dr(e);return i}function Rr(e){return function(t,n,r,i){var o=Lr(r);return o===_n&&null==r?nr(t,n,e):rr(t,n,o(r,i,1),e)}}function Pr(e,t,n,r,i,o,a,u){var c=t&A;if(!c&&"function"!=typeof e)throw new La(D);var l=r?r.length:0;if(!l)t&=~(I|S),r=i=null;if(l-=i?i.length:0,t&S){var f=r,s=i;r=i=null}var p=c?null:qu(e),h=[e,t,n,r,i,f,s,o,a,u];if(p)Xr(h,p),t=h[1],u=h[9];if(h[9]=null==u?c?0:e.length:vu(u-l,0)||0,t==x)var d=pr(h[0],h[2]);else if((t==I||t==(x|I))&&!h[4].length)d=Sr.apply(E,h);else d=Cr.apply(E,h);var v=p?Lu:Uu;return v(d,h)}function Tr(e,t,n,r,i,o,a){var u=-1,c=e.length,l=t.length,f=!0;if(c!=l&&!(i&&l>c))return!1;for(;f&&++u<c;){var s=e[u],p=t[u];if(f=E,r)f=i?r(p,s,u):r(s,p,u);if(f===E)if(i)for(var h=l;h--&&(p=t[h],!(f=s&&s===p||n(s,p,r,i,o,a))););else f=s&&s===p||n(s,p,r,i,o,a)}return!!f}function Nr(e,t,n){switch(n){case W:case V:return+e==+t;case H:return e.name==t.name&&e.message==t.message;case Y:return e!=+e?t!=+t:e==+t;case X:case Q:return e==t+""}return!1}function Mr(e,t,n,r,i,o,a){var u=Fc(e),c=u.length,l=Fc(t),f=l.length;if(c!=f&&!i)return!1;for(var s=i,p=-1;++p<c;){var h=u[p],d=i?h in t:Ua.call(t,h);if(d){var v=e[h],g=t[h];if(d=E,r)d=i?r(g,v,h):r(v,g,h);if(d===E)d=v&&v===g||n(v,g,r,i,o,a)}if(!d)return!1;s||(s="constructor"==h)}if(!s){var m=e.constructor,y=t.constructor;if(m!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y))return!1}return!0}function $r(e,t,n){var r=n?Eu:wu,i=r,o=i;return Tu(e,function(e,a,u){var c=t(e,a,u);if((n?i>c:c>i)||c===r&&c===o)i=c,o=e}),o}function Lr(e,t,n){var r=G.callback||ha;return r=r===ha?_n:r,n?r(e,t,n):r}function Fr(e,t,r){var i=G.indexOf||mi;return i=i===mi?n:i,e?i(e,t,r):i}function qr(e,t,n){for(var r=-1,i=n?n.length:0;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=gu(t,e+a);break;case"takeRight":e=vu(e,t-a)}}return{start:e,end:t}}function Dr(e){var t=e.length,n=new e.constructor(t);if(t&&"string"==typeof e[0]&&Ua.call(e,"index"))n.index=e.index,n.input=e.input;return n}function Br(e){var t=e.constructor;if(!("function"==typeof t&&t instanceof t))t=Na;return new t}function zr(e,t,n){var r=e.constructor;switch(t){case tt:return or(e);case W:case V:return new r(+e);case nt:case rt:case it:case ot:case at:case ut:case ct:case lt:case ft:var i=e.buffer;return new r(n?or(i):i,e.byteOffset,e.length);case Y:case Q:return new r(e);case X:var o=new r(e.source,It.exec(e));o.lastIndex=e.lastIndex}return o}function Ur(e,t,n){if(null!=e&&!Kr(t,e))t=oi(t),e=1==t.length?e:Tn(e,Kn(t,0,-1)),t=_i(t);var r=null==e?e:e[t];return null==r?E:r.apply(e,n)}function Wr(e){return null!=e&&Yr(Bu(e))}function Vr(e,t){return e=+e,t=null==t?Ou:t,e>-1&&e%1==0&&t>e}function Hr(e,t,n){if(!Ao(n))return!1;var r=typeof t;if("number"==r?Wr(n)&&Vr(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function Kr(e,t){var n=typeof e;if("string"==n&&Et.test(e)||"number"==n)return!0;if(jc(e))return!1;var r=!wt.test(e);return r||null!=t&&e in ii(t)}function Gr(e){var t=Du(e);return!!t&&e===G[t]&&t in zt.prototype}function Yr(e){return"number"==typeof e&&e>-1&&e%1==0&&Ou>=e}function Zr(e){return e===e&&!Ao(e)}function Xr(e,t){var n=e[1],r=t[1],i=n|r,o=R>i,a=r==R&&n==O||r==R&&n==P&&e[7].length<=t[8]||r==(R|P)&&n==O;if(!o&&!a)return e;if(r&x)e[2]=t[2],i|=n&x?0:j;var u=t[3];if(u){var c=e[3];e[3]=c?ar(c,u,t[4]):nn(u),e[4]=c?g(e[3],B):nn(t[4])}if(u=t[5])c=e[5],e[5]=c?ur(c,u,t[6]):nn(u),e[6]=c?g(e[5],B):nn(t[6]);if(u=t[7])e[7]=nn(u);if(r&R)e[8]=null==e[8]?t[8]:gu(e[8],t[8]);if(null==e[9])e[9]=t[9];return e[0]=t[0],e[1]=i,e}function Jr(e,t){e=ii(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];if(o in e)i[o]=e[o]}return i}function Qr(e,t){var n={};return In(e,function(e,r,i){if(t(e,r,i))n[r]=e}),n}function ei(e,t){for(var n=e.length,r=gu(t.length,n),i=nn(e);r--;){var o=t[r];e[r]=Vr(o,n)?i[o]:E}return e}function ti(e){{var t;G.support}if(!d(e)||Va.call(e)!=Z||!Ua.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return In(e,function(e,t){n=t}),n===E||Ua.call(e,n)}function ni(e){for(var t=zo(e),n=t.length,r=n&&e.length,i=G.support,o=r&&Yr(r)&&(jc(e)||i.nonEnumArgs&&yo(e)),a=-1,u=[];++a<n;){var c=t[a];if(o&&Vr(c,r)||Ua.call(e,c))u.push(c)}return u}function ri(e){if(null==e)return[];if(!Wr(e))return Ko(e);else return Ao(e)?e:Na(e)}function ii(e){return Ao(e)?e:Na(e)}function oi(e){if(jc(e))return e;var t=[];return i(e).replace(kt,function(e,n,r,i){t.push(r?i.replace(Ot,"$1"):n||e)}),t}function ai(e){return e instanceof zt?e.clone():new et(e.__wrapped__,e.__chain__,nn(e.__actions__))}function ui(e,t,n){if(n?Hr(e,t,n):null==t)t=1;else t=vu(+t||1,1);for(var r=0,i=e?e.length:0,o=-1,a=Ca(Za(i/t));i>r;)a[++o]=Kn(e,r,r+=t);return a}function ci(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];if(o)i[++r]=o}return i}function li(e,t,n){var r=e?e.length:0;if(!r)return[];if(n?Hr(e,t,n):null==t)t=1;return Kn(e,0>t?0:t)}function fi(e,t,n){var r=e?e.length:0;if(!r)return[];if(n?Hr(e,t,n):null==t)t=1;return t=r-(+t||0),Kn(e,0,0>t?0:t)}function si(e,t,n){return e&&e.length?er(e,Lr(t,n,3),!0,!0):[]}function pi(e,t,n){return e&&e.length?er(e,Lr(t,n,3),!0):[]}function hi(e,t,n,r){var i=e?e.length:0;if(!i)return[];if(n&&"number"!=typeof n&&Hr(e,t,n))n=0,r=i;return An(e,t,n,r)}function di(e){return e?e[0]:E}function vi(e,t,n){var r=e?e.length:0;if(n&&Hr(e,t,n))t=!1;return r?Cn(e,t):[]}function gi(e){var t=e?e.length:0;return t?Cn(e,!0):[]}function mi(e,t,r){var i=e?e.length:0;if(!i)return-1;if("number"==typeof r)r=0>r?vu(i+r,0):r;else if(r){var o=nr(e,t),a=e[o];if(t===t?t===a:a!==a)return o;else return-1}return n(e,t,r||0)}function yi(e){return fi(e,1)}function bi(){for(var e=[],t=-1,r=arguments.length,i=[],o=Fr(),a=o==n,u=[];++t<r;){var c=arguments[t];if(Wr(c))e.push(c),i.push(a&&c.length>=120?Fu(t&&c):null)}if(r=e.length,2>r)return u;var l=e[0],f=-1,s=l?l.length:0,p=i[0];e:for(;++f<s;)if(c=l[f],(p?en(p,c):o(u,c,0))<0){for(t=r;--t;){var h=i[t];if((h?en(h,c):o(e[t],c,0))<0)continue e}if(p)p.push(c);u.push(c)}return u}function _i(e){var t=e?e.length:0;return t?e[t-1]:E}function wi(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?vu(r+n,0):gu(n||0,r-1))+1;else if(n){i=nr(e,t,!0)-1;var o=e[i];if(t===t?t===o:o!==o)return i;else return-1}if(t!==t)return h(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Ei(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Fr(),i=e.length;++n<i;)for(var o=0,a=e[n];(o=r(t,a,o))>-1;)au.call(t,o,1);return t}function ki(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,o=[],a=e.length;for(t=Lr(t,n,3);++i<a;){var u=e[i];if(t(u,i,e))r.push(u),o.push(i)}return Wn(e,o),r}function xi(e){return li(e,1)}function Ai(e,t,n){var r=e?e.length:0;if(!r)return[];if(n&&"number"!=typeof n&&Hr(e,t,n))t=0,n=r;return Kn(e,t,n)}function ji(e,t,n){var r=e?e.length:0;if(!r)return[];if(n?Hr(e,t,n):null==t)t=1;return Kn(e,0,0>t?0:t)}function Oi(e,t,n){var r=e?e.length:0;if(!r)return[];if(n?Hr(e,t,n):null==t)t=1;return t=r-(+t||0),Kn(e,0>t?0:t)}function Ci(e,t,n){return e&&e.length?er(e,Lr(t,n,3),!1,!0):[]}function Ii(e,t,n){return e&&e.length?er(e,Lr(t,n,3)):[]}function Si(e,t,r,i){var o=e?e.length:0;if(!o)return[];if(null!=t&&"boolean"!=typeof t)i=r,r=Hr(e,t,i)?null:t,t=!1;var a=Lr();if(a!==_n||null!=r)r=a(r,i,3);return t&&Fr()==n?m(e,r):Jn(e,r)}function Ri(e){if(!e||!e.length)return[];var t=-1,n=0;e=un(e,function(e){if(Wr(e))return n=vu(e.length,n),!0;else return void 0});for(var r=Ca(n);++t<n;)r[t]=cn(e,zn(t));return r}function Pi(e,t,n){var r=e?e.length:0;if(!r)return[];var i=Ri(e);if(null==t)return i;else return t=ir(t,n,4),cn(i,function(e){return sn(e,t,E,!0)})}function Ti(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Wr(n))var r=r?kn(r,n).concat(kn(n,r)):n}return r?Jn(r):[]}function Ni(e,t){var n=-1,r=e?e.length:0,i={};if(r&&!t&&!jc(e[0]))t=[];for(;++n<r;){var o=e[n];if(t)i[o]=t[n];else if(o)i[o[0]]=o[1]}return i}function Mi(e){var t=G(e);return t.__chain__=!0,t}function $i(e,t,n){return t.call(n,e),e}function Li(e,t,n){return t.call(n,e)}function Fi(){return Mi(this)}function qi(){return new et(this.value(),this.__chain__)}function Di(e){for(var t,n=this;n instanceof J;){var r=ai(n);if(t)i.__wrapped__=r;else t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function Bi(){var e=this.__wrapped__;if(e instanceof zt){if(this.__actions__.length)e=new zt(this);return new et(e.reverse(),this.__chain__)}return this.thru(function(e){return e.reverse()})}function zi(){return this.value()+""}function Ui(){return tr(this.__wrapped__,this.__actions__)}function Wi(e,t,n){var r=jc(e)?an:xn;if(n&&Hr(e,t,n))t=null;
if("function"!=typeof t||n!==E)t=Lr(t,n,3);return r(e,t)}function Vi(e,t,n){var r=jc(e)?un:jn;return t=Lr(t,n,3),r(e,t)}function Hi(e,t){return nc(e,Fn(t))}function Ki(e,t,n,r){var i=e?Bu(e):0;if(!Yr(i))e=Ko(e),i=e.length;if(!i)return!1;if("number"!=typeof n||r&&Hr(t,n,r))n=0;else n=0>n?vu(i+n,0):n||0;return"string"==typeof e||!jc(e)&&Po(e)?i>n&&e.indexOf(t,n)>-1:Fr(e,t,n)>-1}function Gi(e,t,n){var r=jc(e)?cn:Ln;return t=Lr(t,n,3),r(e,t)}function Yi(e,t){return Gi(e,wa(t))}function Zi(e,t,n){var r=jc(e)?un:jn;return t=Lr(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function Xi(e,t,n){if(n?Hr(e,t,n):null==t){e=ri(e);var r=e.length;return r>0?e[Vn(0,r-1)]:E}var i=Ji(e);return i.length=gu(0>t?0:+t||0,i.length),i}function Ji(e){e=ri(e);for(var t=-1,n=e.length,r=Ca(n);++t<n;){var i=Vn(0,t);if(t!=i)r[t]=r[i];r[i]=e[t]}return r}function Qi(e){var t=e?Bu(e):0;return Yr(t)?t:Fc(e).length}function eo(e,t,n){var r=jc(e)?hn:Gn;if(n&&Hr(e,t,n))t=null;if("function"!=typeof t||n!==E)t=Lr(t,n,3);return r(e,t)}function to(e,t,n){if(null==e)return[];if(n&&Hr(e,t,n))t=null;var r=-1;t=Lr(t,n,3);var i=Ln(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Yn(i,c)}function no(e,t,n,r){if(null==e)return[];if(r&&Hr(t,n,r))n=null;if(!jc(t))t=null==t?[]:[t];if(!jc(n))n=null==n?[]:[n];return Zn(e,t,n)}function ro(e,t){return Vi(e,Fn(t))}function io(e,t){if("function"!=typeof t)if("function"==typeof e){var n=e;e=t,t=n}else throw new La(D);return e=hu(e=+e)?e:0,function(){if(--e<1)return t.apply(this,arguments);else return void 0}}function oo(e,t,n){if(n&&Hr(e,t,n))t=null;return t=e&&null==t?e.length:vu(+t||0,0),Pr(e,R,null,null,null,null,t)}function ao(e,t){var n;if("function"!=typeof t)if("function"==typeof e){var r=e;e=t,t=r}else throw new La(D);return function(){if(--e>0)n=t.apply(this,arguments);if(1>=e)t=null;return n}}function uo(e,t,n){function r(){if(p)Xa(p);if(c)Xa(c);c=p=h=E}function i(){var n=t-(hc()-f);if(0>=n||n>t){if(c)Xa(c);var r=h;if(c=p=h=E,r)if(d=hc(),l=e.apply(s,u),!p&&!c)u=s=null}else p=ou(i,n)}function o(){if(p)Xa(p);if(c=p=h=E,g||v!==t)if(d=hc(),l=e.apply(s,u),!p&&!c)u=s=null}function a(){if(u=arguments,f=hc(),s=this,h=g&&(p||!m),v===!1)var n=m&&!p;else{if(!c&&!m)d=f;var r=v-(f-d),a=0>=r||r>v;if(a){if(c)c=Xa(c);d=f,l=e.apply(s,u)}else if(!c)c=ou(o,r)}if(a&&p)p=Xa(p);else if(!p&&t!==v)p=ou(i,t);if(n)a=!0,l=e.apply(s,u);if(a&&!p&&!c)u=s=null;return l}var u,c,l,f,s,p,h,d=0,v=!1,g=!0;if("function"!=typeof e)throw new La(D);if(t=0>t?0:+t||0,n===!0){var m=!0;g=!1}else if(Ao(n))m=n.leading,v="maxWait"in n&&vu(+n.maxWait||0,t),g="trailing"in n?n.trailing:g;return a.cancel=r,a}function co(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new La(D);var n=function(){var r=arguments,i=n.cache,o=t?t.apply(this,r):r[0];if(i.has(o))return i.get(o);var a=e.apply(this,r);return i.set(o,a),a};return n.cache=new co.Cache,n}function lo(e){if("function"!=typeof e)throw new La(D);return function(){return!e.apply(this,arguments)}}function fo(e){return ao(2,e)}function so(e,t){if("function"!=typeof e)throw new La(D);return t=vu(t===E?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=vu(n.length-t,0),o=Ca(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=Ca(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=o,e.apply(this,a)}}function po(e){if("function"!=typeof e)throw new La(D);return function(t){return e.apply(this,t)}}function ho(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new La(D);if(n===!1)r=!1;else if(Ao(n))r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i;return Bt.leading=r,Bt.maxWait=+t,Bt.trailing=i,uo(e,t,Bt)}function vo(e,t){return t=null==t?va:t,Pr(t,I,null,[e],[])}function go(e,t,n,r){if(t&&"boolean"!=typeof t&&Hr(e,t,n))t=!1;else if("function"==typeof t)r=n,n=t,t=!1;return n="function"==typeof n&&ir(n,r,1),wn(e,t,n)}function mo(e,t,n){return t="function"==typeof t&&ir(t,n,1),wn(e,!0,t)}function yo(e){return d(e)&&Wr(e)&&Va.call(e)==z}function bo(e){return e===!0||e===!1||d(e)&&Va.call(e)==W}function _o(e){return d(e)&&Va.call(e)==V}function wo(e){return!!e&&1===e.nodeType&&d(e)&&Va.call(e).indexOf("Element")>-1}function Eo(e){if(null==e)return!0;if(Wr(e)&&(jc(e)||Po(e)||yo(e)||d(e)&&Cc(e.splice)))return!e.length;else return!Fc(e).length}function ko(e,t,n,r){if(n="function"==typeof n&&ir(n,r,3),!n&&Zr(e)&&Zr(t))return e===t;var i=n?n(e,t):E;return i===E?Nn(e,t,n):!!i}function xo(e){return d(e)&&"string"==typeof e.message&&Va.call(e)==H}function Ao(e){var t=typeof e;return"function"==t||!!e&&"object"==t}function jo(e,t,n,r){var i=Fc(t),o=i.length;if(!o)return!0;if(null==e)return!1;if(n="function"==typeof n&&ir(n,r,3),e=ii(e),!n&&1==o){var a=i[0],u=t[a];if(Zr(u))return u===e[a]&&(u!==E||a in e)}for(var c=Ca(o),l=Ca(o);o--;)u=c[o]=t[i[o]],l[o]=Zr(u);return $n(e,i,c,l,n)}function Oo(e){return So(e)&&e!=+e}function Co(e){if(null==e)return!1;if(Va.call(e)==K)return Ka.test(za.call(e));else return d(e)&&Rt.test(e)}function Io(e){return null===e}function So(e){return"number"==typeof e||d(e)&&Va.call(e)==Y}function Ro(e){return d(e)&&Va.call(e)==X}function Po(e){return"string"==typeof e||d(e)&&Va.call(e)==Q}function To(e){return d(e)&&Yr(e.length)&&!!qt[Va.call(e)]}function No(e){return e===E}function Mo(e){var t=e?Bu(e):0;if(!Yr(t))return Ko(e);if(!t)return[];else return nn(e)}function $o(e){return bn(e,zo(e))}function Lo(e,t,n){var r=Pu(e);if(n&&Hr(e,t,n))t=null;return t?Ru(r,t):r}function Fo(e){return Pn(e,zo(e))}function qo(e,t,n){var r=null==e?E:Tn(e,oi(t),t+"");return r===E?n:r}function Do(e,t){if(null==e)return!1;var n=Ua.call(e,t);if(!n&&!Kr(t))t=oi(t),e=1==t.length?e:Tn(e,Kn(t,0,-1)),t=_i(t),n=null!=e&&Ua.call(e,t);return n}function Bo(e,t,n){if(n&&Hr(e,t,n))t=null;for(var r=-1,i=Fc(e),o=i.length,a={};++r<o;){var u=i[r],c=e[u];if(t)if(Ua.call(a,c))a[c].push(u);else a[c]=[u];else a[c]=u}return a}function zo(e){if(null==e)return[];if(!Ao(e))e=Na(e);var t=e.length;t=t&&Yr(t)&&(jc(e)||Su.nonEnumArgs&&yo(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,o=Ca(t),a=t>0;++r<t;)o[r]=r+"";for(var u in e)if(!(a&&Vr(u,t)||"constructor"==u&&(i||!Ua.call(e,u))))o.push(u);return o}function Uo(e){for(var t=-1,n=Fc(e),r=n.length,i=Ca(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function Wo(e,t,n){var r=null==e?E:e[t];if(r===E){if(null!=e&&!Kr(t,e))t=oi(t),e=1==t.length?e:Tn(e,Kn(t,0,-1)),r=null==e?E:e[_i(t)];r=r===E?n:r}return Cc(r)?r.call(e):r}function Vo(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||Kr(t,e)?[r]:oi(t);for(var i=-1,o=t.length,a=o-1,u=e;null!=u&&++i<o;){var c=t[i];if(Ao(u))if(i==a)u[c]=n;else if(null==u[c])u[c]=Vr(t[i+1])?[]:{};u=u[c]}return e}function Ho(e,t,n,r){var i=jc(e)||To(e);if(t=Lr(t,r,4),null==n)if(i||Ao(e)){var o=e.constructor;if(i)n=jc(e)?new o:[];else n=Pu(Cc(o)&&o.prototype)}else n={};return(i?rn:Sn)(e,function(e,r,i){return t(n,e,r,i)}),n}function Ko(e){return Qn(e,Fc(e))}function Go(e){return Qn(e,zo(e))}function Yo(e,t,n){if(t=+t||0,"undefined"==typeof n)n=t,t=0;else n=+n||0;return e>=gu(t,n)&&e<vu(t,n)}function Zo(e,t,n){if(n&&Hr(e,t,n))t=n=null;var r=null==e,i=null==t;if(null==n)if(i&&"boolean"==typeof e)n=e,e=1;else if("boolean"==typeof t)n=t,i=!0;if(r&&i)t=1,i=!1;if(e=+e||0,i)t=e,e=0;else t=+t||0;if(n||e%1||t%1){var o=_u();return gu(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return Vn(e,t)}function Xo(e){return e=i(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function Jo(e){return e=i(e),e&&e.replace(Pt,f).replace(jt,"")}function Qo(e,t,n){e=i(e),t+="";var r=e.length;return n=n===E?r:gu(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function ea(e){return e=i(e),e&&mt.test(e)?e.replace(vt,s):e}function ta(e){return e=i(e),e&&At.test(e)?e.replace(xt,"\\$&"):e}function na(e,t,n){e=i(e),t=+t;var r=e.length;if(r>=t||!hu(t))return e;var o=(t-r)/2,a=Ja(o),u=Za(o);return n=Ir("",u,n),n.slice(0,a)+e+n}function ra(e,t,n){if(n&&Hr(e,t,n))t=0;return bu(e,t)}function ia(e,t){var n="";if(e=i(e),t=+t,1>t||!e||!hu(t))return n;do{if(t%2)n+=e;t=Ja(t/2),e+=e}while(t);return n}function oa(e,t,n){return e=i(e),n=null==n?0:gu(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function aa(e,t,n){var r=G.templateSettings;if(n&&Hr(e,t,n))t=n=null;e=i(e),t=mn(Ru({},n||t),r,gn);var o,a,u=mn(Ru({},t.imports),r.imports,gn),c=Fc(u),l=Qn(u,c),f=0,s=t.interpolate||Tt,h="__p += '",d=Ma((t.escape||Tt).source+"|"+s.source+"|"+(s===_t?Ct:Tt).source+"|"+(t.evaluate||Tt).source+"|$","g"),v="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Ft+"]")+"\n";e.replace(d,function(t,n,r,i,u,c){if(r||(r=i),h+=e.slice(f,c).replace(Nt,p),n)o=!0,h+="' +\n__e("+n+") +\n'";if(u)a=!0,h+="';\n"+u+";\n__p += '";if(r)h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'";return f=c+t.length,t}),h+="';\n";var g=t.variable;if(!g)h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(st,""):h).replace(pt,"$1").replace(ht,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Zc(function(){return Ra(c,v+"return "+h).apply(E,l)});if(m.source=h,xo(m))throw m;return m}function ua(e,t,n){var r=e;if(e=i(e),!e)return e;if(n?Hr(r,t,n):null==t)return e.slice(y(e),b(e)+1);else return t+="",e.slice(a(e,t),u(e,t)+1)}function ca(e,t,n){var r=e;if(e=i(e),!e)return e;if(n?Hr(r,t,n):null==t)return e.slice(y(e));else return e.slice(a(e,t+""))}function la(e,t,n){var r=e;if(e=i(e),!e)return e;if(n?Hr(r,t,n):null==t)return e.slice(0,b(e)+1);else return e.slice(0,u(e,t+"")+1)}function fa(e,t,n){if(n&&Hr(e,t,n))t=null;var r=T,o=N;if(null!=t)if(Ao(t)){var a="separator"in t?t.separator:a;r="length"in t?+t.length||0:r,o="omission"in t?i(t.omission):o}else r=+t||0;if(e=i(e),r>=e.length)return e;var u=r-o.length;if(1>u)return o;var c=e.slice(0,u);if(null==a)return c+o;if(Ro(a)){if(e.slice(u).search(a)){var l,f,s=e.slice(0,u);if(!a.global)a=Ma(a.source,(It.exec(a)||"")+"g");for(a.lastIndex=0;l=a.exec(s);)f=l.index;c=c.slice(0,null==f?u:f)}}else if(e.indexOf(a,u)!=u){var p=c.lastIndexOf(a);if(p>-1)c=c.slice(0,p)}return c+o}function sa(e){return e=i(e),e&&gt.test(e)?e.replace(dt,_):e}function pa(e,t,n){if(n&&Hr(e,t,n))t=null;return e=i(e),e.match(t||Mt)||[]}function ha(e,t,n){if(n&&Hr(e,t,n))t=null;return d(e)?ga(e):_n(e,t)}function da(e){return function(){return e}}function va(e){return e}function ga(e){return Fn(wn(e,!0))}function ma(e,t){return qn(e,wn(t,!0))}function ya(e,t,n){if(null==n){var r=Ao(t),i=r&&Fc(t),o=i&&i.length&&Pn(t,i);if(!(o?o.length:r))o=!1,n=t,t=e,e=this}if(!o)o=Pn(t,Fc(t));var a=!0,u=-1,c=Cc(e),l=o.length;if(n===!1)a=!1;else if(Ao(n)&&"chain"in n)a=n.chain;for(;++u<l;){var f=o[u],s=t[f];if(e[f]=s,c)e.prototype[f]=function(t){return function(){var n=this.__chain__;if(a||n){var r=e(this.__wrapped__),i=r.__actions__=nn(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}var o=[this.value()];return tu.apply(o,arguments),t.apply(e,o)}}(s)}return e}function ba(){return v._=Ha,this}function _a(){}function wa(e){return Kr(e)?zn(e):Un(e)}function Ea(e){return function(t){return Tn(e,oi(t),t+"")}}function ka(e,t,n){if(n&&Hr(e,t,n))t=n=null;if(e=+e||0,n=null==n?1:+n||0,null==t)t=e,e=0;else t=+t||0;for(var r=-1,i=vu(Za((t-e)/(n||1)),0),o=Ca(i);++r<i;)o[r]=e,e+=n;return o}function xa(e,t,n){if(e=Ja(e),1>e||!hu(e))return[];var r=-1,i=Ca(gu(e,ku));for(t=ir(t,n,1);++r<e;)if(ku>r)i[r]=t(r);else t(r);return i}function Aa(e){var t=++Wa;return i(e)+t}function ja(e,t){return(+e||0)+(+t||0)}function Oa(e,t,n){if(n&&Hr(e,t,n))t=null;var r=Lr(),i=null==t;if(r!==_n||!i)i=!1,t=r(t,n,3);return i?dn(jc(e)?e:ri(e)):Xn(e,t)}v=v?Qt.defaults(Jt.Object(),v,Qt.pick(Jt,Lt)):Jt;var Ca=v.Array,Ia=v.Date,Sa=v.Error,Ra=v.Function,Pa=v.Math,Ta=v.Number,Na=v.Object,Ma=v.RegExp,$a=v.String,La=v.TypeError,Fa=Ca.prototype,qa=Na.prototype,Da=$a.prototype,Ba=(Ba=v.window)&&Ba.document,za=Ra.prototype.toString,Ua=qa.hasOwnProperty,Wa=0,Va=qa.toString,Ha=v._,Ka=Ma("^"+ta(Va).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ga=Co(Ga=v.ArrayBuffer)&&Ga,Ya=Co(Ya=Ga&&new Ga(0).slice)&&Ya,Za=Pa.ceil,Xa=v.clearTimeout,Ja=Pa.floor,Qa=Co(Qa=Na.getOwnPropertySymbols)&&Qa,eu=Co(eu=Na.getPrototypeOf)&&eu,tu=Fa.push,nu=Co(nu=Na.preventExtensions)&&nu,ru=qa.propertyIsEnumerable,iu=Co(iu=v.Set)&&iu,ou=v.setTimeout,au=Fa.splice,uu=Co(uu=v.Uint8Array)&&uu,cu=Co(cu=v.WeakMap)&&cu,lu=function(){try{var e=Co(e=v.Float64Array)&&e,t=new e(new Ga(10),0,1)&&e}catch(n){}return t}(),fu=function(){var e=nu&&Co(e=Na.assign)&&e;try{if(e){var t=nu({1:0});t[0]=1}}catch(n){try{e(t,"xo")}catch(n){}return!t[1]&&e}return!1}(),su=Co(su=Ca.isArray)&&su,pu=Co(pu=Na.create)&&pu,hu=v.isFinite,du=Co(du=Na.keys)&&du,vu=Pa.max,gu=Pa.min,mu=Co(mu=Ia.now)&&mu,yu=Co(yu=Ta.isFinite)&&yu,bu=v.parseInt,_u=Pa.random,wu=Ta.NEGATIVE_INFINITY,Eu=Ta.POSITIVE_INFINITY,ku=Pa.pow(2,32)-1,xu=ku-1,Au=ku>>>1,ju=lu?lu.BYTES_PER_ELEMENT:0,Ou=Pa.pow(2,53)-1,Cu=cu&&new cu,Iu={},Su=G.support={};!function(e){var t=function(){this.x=e},n=arguments,r=[];t.prototype={valueOf:e,y:e};for(var i in new t)r.push(i);Su.funcDecomp=/\bthis\b/.test(function(){return this}),Su.funcNames="string"==typeof Ra.name;try{Su.dom=11===Ba.createDocumentFragment().nodeType}catch(o){Su.dom=!1}try{Su.nonEnumArgs=!ru.call(n,1)}catch(o){Su.nonEnumArgs=!0}}(1,0),G.templateSettings={escape:yt,evaluate:bt,interpolate:_t,variable:"",imports:{_:G}};var Ru=fu||function(e,t){return null==t?e:bn(t,zu(t),bn(t,Fc(t),e))},Pu=function(){function e(){}return function(t){if(Ao(t)){e.prototype=t;var n=new e;e.prototype=null}return n||v.Object()}}(),Tu=fr(Sn),Nu=fr(Rn,!0),Mu=sr(),$u=sr(!0),Lu=!Cu?va:function(e,t){return Cu.set(e,t),e};if(!Ya)or=!Ga||!uu?da(null):function(e){var t=e.byteLength,n=lu?Ja(t/ju):0,r=n*ju,i=new Ga(t);if(n){var o=new lu(i,0,n);o.set(new lu(e,0,n))}if(t!=r)o=new uu(i,r),o.set(new uu(e,r));return i};var Fu=!pu||!iu?da(null):function(e){return new Xt(e)},qu=!Cu?_a:function(e){return Cu.get(e)},Du=function(){if(!Su.funcNames)return da("");if("constant"==da.name)return zn("name");else return function(e){for(var t=e.name,n=Iu[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}}(),Bu=zn("length"),zu=!Qa?da([]):function(e){return Qa(ii(e))},Uu=function(){var e=0,t=0;return function(n,r){var i=hc(),o=$-(i-t);if(t=i,o>0){if(++e>=M)return n}else e=0;return Lu(n,r)}}(),Wu=so(function(e,t){return Wr(e)?kn(e,Cn(t,!1,!0)):[]}),Vu=yr(),Hu=yr(!0),Ku=so(function(t,n){n=Cn(n);var r=yn(t,n);return Wn(t,n.sort(e)),r}),Gu=Rr(),Yu=Rr(!0),Zu=so(function(e){return Jn(Cn(e,!1,!0))}),Xu=so(function(e,t){return Wr(e)?kn(e,t):[]}),Ju=so(Ri),Qu=so(function(e){var t=e.length,n=e[t-2],r=e[t-1];if(t>2&&"function"==typeof n)t-=2;else n=t>1&&"function"==typeof r?(--t,r):E,r=E;return e.length=t,Pi(e,n,r)}),ec=so(function(e,t){return yn(e,Cn(t))}),tc=cr(function(e,t,n){Ua.call(e,n)?++e[n]:e[n]=1}),nc=mr(Tu),rc=mr(Nu,!0),ic=wr(rn,Tu),oc=wr(on,Nu),ac=cr(function(e,t,n){if(Ua.call(e,n))e[n].push(t);else e[n]=[t]}),uc=cr(function(e,t,n){e[n]=t}),cc=so(function(e,t,n){var r=-1,i="function"==typeof t,o=Kr(t),a=Wr(e)?Ca(e.length):[];return Tu(e,function(e){var u=i?t:o&&null!=e&&e[t];a[++r]=u?u.apply(e,n):Ur(e,t,n)}),a}),lc=cr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),fc=Or(sn,Tu),sc=Or(pn,Nu),pc=so(function(e,t){if(null==e)return[];var n=t[2];if(n&&Hr(t[0],t[1],n))t.length=1;return Zn(e,Cn(t),[])}),hc=mu||function(){return(new Ia).getTime()},dc=so(function(e,t,n){var r=x;if(n.length){var i=g(n,dc.placeholder);r|=I}return Pr(e,r,t,n,i)}),vc=so(function(e,t){t=t.length?Cn(t):Fo(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Pr(e[i],x,e)}return e}),gc=so(function(e,t,n){var r=x|A;if(n.length){var i=g(n,gc.placeholder);r|=I}return Pr(t,r,e,n,i)}),mc=vr(O),yc=vr(C),bc=so(function(e,t){return En(e,1,t)}),_c=so(function(e,t,n){return En(e,t,n)}),wc=_r(),Ec=_r(!0),kc=jr(I),xc=jr(S),Ac=so(function(e,t){return Pr(e,P,null,null,null,Cn(t))}),jc=su||function(e){return d(e)&&Yr(e.length)&&Va.call(e)==U};if(!Su.dom)wo=function(e){return!!e&&1===e.nodeType&&d(e)&&!Ic(e)};var Oc=yu||function(e){return"number"==typeof e&&hu(e)},Cc=!(r(/x/)||uu&&!r(uu))?r:function(e){return Va.call(e)==K},Ic=!eu?ti:function(e){if(!e||Va.call(e)!=Z)return!1;var t=e.valueOf,n=Co(t)&&(n=eu(t))&&eu(n);return n?e==n||eu(e)==n:ti(e)},Sc=lr(function(e,t,n){return n?mn(e,t,n):Ru(e,t)}),Rc=so(function(e){var t=e[0];if(null==t)return t;else return e.push(vn),Sc.apply(E,e)}),Pc=br(Sn),Tc=br(Rn),Nc=Er(Mu),Mc=Er($u),$c=kr(Sn),Lc=kr(Rn),Fc=!du?ni:function(e){var t=null!=e&&e.constructor;if("function"==typeof t&&t.prototype===e||"function"!=typeof e&&Wr(e))return ni(e);else return Ao(e)?du(e):[]},qc=xr(!0),Dc=xr(),Bc=lr(Dn),zc=so(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=cn(Cn(t),$a);return Jr(e,kn(zo(e),t))}var n=ir(t[0],t[1],3);return Qr(e,function(e,t,r){return!n(e,t,r)})}),Uc=so(function(e,t){if(null==e)return{};else return"function"==typeof t[0]?Qr(e,ir(t[0],t[1],3)):Jr(e,Cn(t))}),Wc=hr(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Vc=hr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Hc=Ar(),Kc=Ar(!0);if(8!=bu($t+"08"))ra=function(e,t,n){if(n?Hr(e,t,n):null==t)t=0;else if(t)t=+t;return e=ua(e),bu(e,t||(St.test(e)?16:10))};var Gc=hr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Yc=hr(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Zc=so(function(e,t){try{return e.apply(E,t)}catch(n){return xo(n)?n:new Sa(n)}}),Xc=so(function(e,t){return function(n){return Ur(n,e,t)}}),Jc=so(function(e,t){return function(n){return Ur(e,n,t)}}),Qc=gr(ln),el=gr(fn,!0);return G.prototype=J.prototype,et.prototype=Pu(J.prototype),et.prototype.constructor=et,zt.prototype=Pu(J.prototype),zt.prototype.constructor=zt,Ht.prototype["delete"]=Kt,Ht.prototype.get=Gt,Ht.prototype.has=Yt,Ht.prototype.set=Zt,Xt.prototype.push=tn,co.Cache=Ht,G.after=io,G.ary=oo,G.assign=Sc,G.at=ec,G.before=ao,G.bind=dc,G.bindAll=vc,G.bindKey=gc,G.callback=ha,G.chain=Mi,G.chunk=ui,G.compact=ci,G.constant=da,G.countBy=tc,G.create=Lo,G.curry=mc,G.curryRight=yc,G.debounce=uo,G.defaults=Rc,G.defer=bc,G.delay=_c,G.difference=Wu,G.drop=li,G.dropRight=fi,G.dropRightWhile=si,G.dropWhile=pi,G.fill=hi,G.filter=Vi,G.flatten=vi,G.flattenDeep=gi,G.flow=wc,G.flowRight=Ec,G.forEach=ic,G.forEachRight=oc,G.forIn=Nc,G.forInRight=Mc,G.forOwn=$c,G.forOwnRight=Lc,G.functions=Fo,G.groupBy=ac,G.indexBy=uc,G.initial=yi,G.intersection=bi,G.invert=Bo,G.invoke=cc,G.keys=Fc,G.keysIn=zo,G.map=Gi,G.mapKeys=qc,G.mapValues=Dc,G.matches=ga,G.matchesProperty=ma,G.memoize=co,G.merge=Bc,G.method=Xc,G.methodOf=Jc,G.mixin=ya,G.negate=lo,G.omit=zc,G.once=fo,G.pairs=Uo,G.partial=kc,G.partialRight=xc,G.partition=lc,G.pick=Uc,G.pluck=Yi,G.property=wa,G.propertyOf=Ea,G.pull=Ei,G.pullAt=Ku,G.range=ka,G.rearg=Ac,G.reject=Zi,G.remove=ki,G.rest=xi,G.restParam=so,G.set=Vo,G.shuffle=Ji,G.slice=Ai,G.sortBy=to,G.sortByAll=pc,G.sortByOrder=no,G.spread=po,G.take=ji,G.takeRight=Oi,G.takeRightWhile=Ci,G.takeWhile=Ii,G.tap=$i,G.throttle=ho,G.thru=Li,G.times=xa,G.toArray=Mo,G.toPlainObject=$o,G.transform=Ho,G.union=Zu,G.uniq=Si,G.unzip=Ri,G.unzipWith=Pi,G.values=Ko,G.valuesIn=Go,G.where=ro,G.without=Xu,G.wrap=vo,G.xor=Ti,G.zip=Ju,G.zipObject=Ni,G.zipWith=Qu,G.backflow=Ec,G.collect=Gi,G.compose=Ec,G.each=ic,G.eachRight=oc,G.extend=Sc,G.iteratee=ha,G.methods=Fo,G.object=Ni,G.select=Vi,G.tail=xi,G.unique=Si,ya(G,G),G.add=ja,G.attempt=Zc,G.camelCase=Wc,G.capitalize=Xo,G.clone=go,G.cloneDeep=mo,G.deburr=Jo,G.endsWith=Qo,G.escape=ea,G.escapeRegExp=ta,G.every=Wi,G.find=nc,G.findIndex=Vu,G.findKey=Pc,G.findLast=rc,G.findLastIndex=Hu,G.findLastKey=Tc,G.findWhere=Hi,G.first=di,G.get=qo,G.has=Do,G.identity=va,G.includes=Ki,G.indexOf=mi,G.inRange=Yo,G.isArguments=yo,G.isArray=jc,G.isBoolean=bo,G.isDate=_o,G.isElement=wo,G.isEmpty=Eo,G.isEqual=ko,G.isError=xo,G.isFinite=Oc,G.isFunction=Cc,G.isMatch=jo,G.isNaN=Oo,G.isNative=Co,G.isNull=Io,G.isNumber=So,G.isObject=Ao,G.isPlainObject=Ic,G.isRegExp=Ro,G.isString=Po,G.isTypedArray=To,G.isUndefined=No,G.kebabCase=Vc,G.last=_i,G.lastIndexOf=wi,G.max=Qc,G.min=el,G.noConflict=ba,G.noop=_a,G.now=hc,G.pad=na,G.padLeft=Hc,G.padRight=Kc,G.parseInt=ra,G.random=Zo,G.reduce=fc,G.reduceRight=sc,G.repeat=ia,G.result=Wo,G.runInContext=w,G.size=Qi,G.snakeCase=Gc,G.some=eo,G.sortedIndex=Gu,G.sortedLastIndex=Yu,G.startCase=Yc,G.startsWith=oa,G.sum=Oa,G.template=aa,G.trim=ua,G.trimLeft=ca,G.trimRight=la,G.trunc=fa,G.unescape=sa,G.uniqueId=Aa,G.words=pa,G.all=Wi,G.any=eo,G.contains=Ki,G.detect=nc,G.foldl=fc,G.foldr=sc,G.head=di,G.include=Ki,G.inject=fc,ya(G,function(){var e={};return Sn(G,function(t,n){if(!G.prototype[n])e[n]=t}),e}(),!1),G.sample=Xi,G.prototype.sample=function(e){if(!this.__chain__&&null==e)return Xi(this.value());else return this.thru(function(t){return Xi(t,e)})},G.VERSION=k,rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){G[e].placeholder=G}),rn(["dropWhile","filter","map","takeWhile"],function(e,t){var n=t!=q,r=t==L;zt.prototype[e]=function(e,i){var o=this.__filtered__,a=o&&r?new zt(this):this.clone(),u=a.__iteratees__||(a.__iteratees__=[]);return u.push({done:!1,count:0,index:0,iteratee:Lr(e,i,1),limit:-1,type:t}),a.__filtered__=o||n,a}}),rn(["drop","take"],function(e,t){var n=e+"While";zt.prototype[e]=function(n){var r=this.__filtered__,i=r&&!t?this.dropWhile():this.clone();if(n=null==n?1:vu(Ja(n)||0,0),r)if(t)i.__takeCount__=gu(i.__takeCount__,n);else _i(i.__iteratees__).limit=n;else{var o=i.__views__||(i.__views__=[]);o.push({size:n,type:e+(i.__dir__<0?"Right":"")})}return i},zt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()},zt.prototype[e+"RightWhile"]=function(e,t){return this.reverse()[n](e,t).reverse()}}),rn(["first","last"],function(e,t){var n="take"+(t?"Right":"");zt.prototype[e]=function(){return this[n](1).value()[0]}}),rn(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");zt.prototype[e]=function(){return this[n](1)}}),rn(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Fn:wa;zt.prototype[e]=function(e){return this[n](r(e))}}),zt.prototype.compact=function(){return this.filter(va)},zt.prototype.reject=function(e,t){return e=Lr(e,t,1),this.filter(function(t){return!e(t)})},zt.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;if(0>e)n=this.takeRight(-e);else if(e)n=this.drop(e);if(t!==E)t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e);return n},zt.prototype.toArray=function(){return this.drop(0)},Sn(zt.prototype,function(e,t){var n=G[t];if(n){var r=/^(?:filter|map|reject)|While$/.test(t),i=/^(?:first|last)$/.test(t);G.prototype[t]=function(){var t=arguments,o=this.__chain__,a=this.__wrapped__,u=!!this.__actions__.length,c=a instanceof zt,l=t[0],f=c||jc(a);if(f&&r&&"function"==typeof l&&1!=l.length)c=f=!1;var s=c&&!u;if(i&&!o)return s?e.call(a):n.call(G,this.value());var p=function(e){var r=[e];return tu.apply(r,t),n.apply(G,r)};if(f){var h=s?a:new zt(this),d=e.apply(h,t);if(!i&&(u||d.__actions__)){var v=d.__actions__||(d.__actions__=[]);v.push({func:Li,args:[p],thisArg:G})}return new et(d,o)}return this.thru(p)}}}),rn(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?Da:Fa)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(e);G.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__)return t.apply(this.value(),e);else return this[n](function(n){return t.apply(n,e)})}}),Sn(zt.prototype,function(e,t){var n=G[t];if(n){var r=n.name,i=Iu[r]||(Iu[r]=[]);i.push({name:t,func:n})}}),Iu[Cr(null,A).name]=[{name:"wrapper",func:null}],zt.prototype.clone=Ut,zt.prototype.reverse=Wt,zt.prototype.value=Vt,G.prototype.chain=Fi,G.prototype.commit=qi,G.prototype.plant=Di,G.prototype.reverse=Bi,G.prototype.toString=zi,G.prototype.run=G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=Ui,G.prototype.collect=G.prototype.map,G.prototype.head=G.prototype.first,G.prototype.select=G.prototype.filter,G.prototype.tail=G.prototype.rest,G}var E,k="3.8.0",x=1,A=2,j=4,O=8,C=16,I=32,S=64,R=128,P=256,T=30,N="...",M=150,$=16,L=0,F=1,q=2,D="Expected a function",B="__lodash_placeholder__",z="[object Arguments]",U="[object Array]",W="[object Boolean]",V="[object Date]",H="[object Error]",K="[object Function]",G="[object Map]",Y="[object Number]",Z="[object Object]",X="[object RegExp]",J="[object Set]",Q="[object String]",et="[object WeakMap]",tt="[object ArrayBuffer]",nt="[object Float32Array]",rt="[object Float64Array]",it="[object Int8Array]",ot="[object Int16Array]",at="[object Int32Array]",ut="[object Uint8Array]",ct="[object Uint8ClampedArray]",lt="[object Uint16Array]",ft="[object Uint32Array]",st=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,ht=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dt=/&(?:amp|lt|gt|quot|#39|#96);/g,vt=/[&<>"'`]/g,gt=RegExp(dt.source),mt=RegExp(vt.source),yt=/<%-([\s\S]+?)%>/g,bt=/<%([\s\S]+?)%>/g,_t=/<%=([\s\S]+?)%>/g,wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Et=/^\w*$/,kt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,xt=/[.*+?^${}()|[\]\/\\]/g,At=RegExp(xt.source),jt=/[\u0300-\u036f\ufe20-\ufe23]/g,Ot=/\\(\\)?/g,Ct=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,It=/\w*$/,St=/^0[xX]/,Rt=/^\[object .+?Constructor\]$/,Pt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Tt=/($^)/,Nt=/['\n\r\u2028\u2029\\]/g,Mt=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),$t=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",Lt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],Ft=-1,qt={};qt[nt]=qt[rt]=qt[it]=qt[ot]=qt[at]=qt[ut]=qt[ct]=qt[lt]=qt[ft]=!0,qt[z]=qt[U]=qt[tt]=qt[W]=qt[V]=qt[H]=qt[K]=qt[G]=qt[Y]=qt[Z]=qt[X]=qt[J]=qt[Q]=qt[et]=!1;var Dt={};Dt[z]=Dt[U]=Dt[tt]=Dt[W]=Dt[V]=Dt[nt]=Dt[rt]=Dt[it]=Dt[ot]=Dt[at]=Dt[Y]=Dt[Z]=Dt[X]=Dt[Q]=Dt[ut]=Dt[ct]=Dt[lt]=Dt[ft]=!0,Dt[H]=Dt[K]=Dt[G]=Dt[J]=Dt[et]=!1;var Bt={leading:!1,maxWait:0,trailing:!1},zt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ut={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Wt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Vt={"function":!0,object:!0},Ht={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Kt=Vt[typeof exports]&&exports&&!exports.nodeType&&exports,Gt=Vt[typeof module]&&module&&!module.nodeType&&module,Yt=Kt&&Gt&&"object"==typeof global&&global&&global.Object&&global,Zt=Vt[typeof self]&&self&&self.Object&&self,Xt=Vt[typeof window]&&window&&window.Object&&window,Jt=Yt||Xt!==(this&&this.window)&&Xt||Zt||this,Qt=w();if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define("lodash/main",[],function(){return Qt})}.call(this),define("lodash",["lodash/main"],function(e){return e}),define("k-component/lib/zepto",["require"],function(){var e=function(){function e(e){return null==e?String(e):G[Y.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function r(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function i(t){return"object"==e(t)}function o(e){return i(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function a(e){return"number"==typeof e.length}function u(e){return S.call(e,function(e){return null!=e})}function c(e){return e.length>0?x.fn.concat.apply([],e):e}function l(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function f(e){return e in N?N[e]:N[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function s(e,t){return"number"==typeof t&&!M[l(e)]?t+"px":t}function p(e){var t,n;if(!T[e])t=P.createElement(e),P.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),T[e]=n;return T[e]}function h(e){return"children"in e?R.call(e.children):x.map(e.childNodes,function(e){if(1==e.nodeType)return e;else return void 0})}function d(e,t){var n,r=e?e.length:0;for(n=0;r>n;n++)this[n]=e[n];this.length=r,this.selector=t||""}function v(e,t,n){for(k in t)if(n&&(o(t[k])||Q(t[k]))){if(o(t[k])&&!o(e[k]))e[k]={};if(Q(t[k])&&!Q(e[k]))e[k]=[];v(e[k],t[k],n)}else if(t[k]!==E)e[k]=t[k]}function g(e,t){return null==t?x(e):x(e).filter(t)}function m(e,n,r,i){return t(n)?n.call(e,r,i):n}function y(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function b(e,t){var n=e.className||"",r=n&&n.baseVal!==E;if(t===E)return r?n.baseVal:n;else return void(r?n.baseVal=t:e.className=t)}function _(e){try{return e?"true"==e||("false"==e?!1:"null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?x.parseJSON(e):e):e}catch(t){return e}}function w(e,t){t(e);for(var n=0,r=e.childNodes.length;r>n;n++)w(e.childNodes[n],t)}var E,k,x,A,j,O,C=[],I=C.concat,S=C.filter,R=C.slice,P=window.document,T={},N={},M={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},$=/^\s*<(\w+|!)[^>]*>/,L=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,F=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,q=/^(?:body|html)$/i,D=/([A-Z])/g,B=["val","css","html","text","data","width","height","offset"],z=["after","prepend","before","append"],U=P.createElement("table"),W=P.createElement("tr"),V={tr:P.createElement("tbody"),tbody:U,thead:U,tfoot:U,td:W,th:W,"*":P.createElement("div")},H=/complete|loaded|interactive/,K=/^[\w-]*$/,G={},Y=G.toString,Z={},X=P.createElement("div"),J={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Q=Array.isArray||function(e){return e instanceof Array};if(Z.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,o=!i;if(o)(i=X).appendChild(e);return r=~Z.qsa(i,t).indexOf(e),o&&X.removeChild(e),r},j=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},O=function(e){return S.call(e,function(t,n){return e.indexOf(t)==n})},Z.fragment=function(e,t,n){var r,i,a;if(L.test(e))r=x(P.createElement(RegExp.$1));if(!r){if(e.replace)e=e.replace(F,"<$1></$2>");if(t===E)t=$.test(e)&&RegExp.$1;if(!(t in V))t="*";a=V[t],a.innerHTML=""+e,r=x.each(R.call(a.childNodes),function(){a.removeChild(this)})}if(o(n))i=x(r),x.each(n,function(e,t){if(B.indexOf(e)>-1)i[e](t);else i.attr(e,t)});return r},Z.Z=function(e,t){return new d(e,t)},Z.isZ=function(e){return e instanceof Z.Z},Z.init=function(e,n){var r;if(!e)return Z.Z();else if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&$.test(e))r=Z.fragment(e,RegExp.$1,n),e=null;else if(n!==E)return x(n).find(e);else r=Z.qsa(P,e);else if(t(e))return x(P).ready(e);else if(Z.isZ(e))return e;else if(Q(e))r=u(e);else if(i(e))r=[e],e=null;else if($.test(e))r=Z.fragment(e.trim(),RegExp.$1,n),e=null;else if(n!==E)return x(n).find(e);else r=Z.qsa(P,e);return Z.Z(r,e)},x=function(e,t){return Z.init(e,t)},x.extend=function(e){var t,n=R.call(arguments,1);
if("boolean"==typeof e)t=e,e=n.shift();return n.forEach(function(n){v(e,n,t)}),e},Z.qsa=function(e,t){var n,r="#"==t[0],i=!r&&"."==t[0],o=r||i?t.slice(1):t,a=K.test(o);return e.getElementById&&a&&r?(n=e.getElementById(o))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:R.call(a&&!r&&e.getElementsByClassName?i?e.getElementsByClassName(o):e.getElementsByTagName(t):e.querySelectorAll(t))},x.contains=P.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},x.type=e,x.isFunction=t,x.isWindow=n,x.isArray=Q,x.isPlainObject=o,x.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},x.inArray=function(e,t,n){return C.indexOf.call(t,e,n)},x.camelCase=j,x.trim=function(e){return null==e?"":String.prototype.trim.call(e)},x.uuid=0,x.support={},x.expr={},x.noop=function(){},x.map=function(e,t){var n,r,i,o=[];if(a(e)){for(r=0;r<e.length;r++)if(n=t(e[r],r),null!=n)o.push(n)}else for(i in e)if(n=t(e[i],i),null!=n)o.push(n);return c(o)},x.each=function(e,t){var n,r;if(a(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(r in e)if(t.call(e[r],r,e[r])===!1)return e;return e},x.grep=function(e,t){return S.call(e,t)},window.JSON)x.parseJSON=JSON.parse;return x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){G["[object "+t+"]"]=t.toLowerCase()}),x.fn={constructor:Z.Z,length:0,forEach:C.forEach,reduce:C.reduce,push:C.push,sort:C.sort,splice:C.splice,indexOf:C.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=Z.isZ(t)?t.toArray():t;return I.apply(Z.isZ(this)?this.toArray():this,n)},map:function(e){return x(x.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return x(R.apply(this,arguments))},ready:function(e){if(H.test(P.readyState)&&P.body)e(x);else P.addEventListener("DOMContentLoaded",function(){e(x)},!1);return this},get:function(e){return e===E?R.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){if(null!=this.parentNode)this.parentNode.removeChild(this)})},each:function(e){return C.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){if(t(e))return this.not(this.not(e));else return x(S.call(this,function(t){return Z.matches(t,e)}))},add:function(e,t){return x(O(this.concat(x(e,t))))},is:function(e){return this.length>0&&Z.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==E)this.each(function(t){if(!e.call(this,t))n.push(this)});else{var r="string"==typeof e?this.filter(e):a(e)&&t(e.item)?R.call(e):x(e);this.forEach(function(e){if(r.indexOf(e)<0)n.push(e)})}return x(n)},has:function(e){return this.filter(function(){return i(e)?x.contains(this,e):x(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!i(e)?e:x(e)},last:function(){var e=this[this.length-1];return e&&!i(e)?e:x(e)},find:function(e){var t,n=this;if(!e)t=x();else if("object"==typeof e)t=x(e).filter(function(){var e=this;return C.some.call(n,function(t){return x.contains(t,e)})});else if(1==this.length)t=x(Z.qsa(this[0],e));else t=this.map(function(){return Z.qsa(this,e)});return t},closest:function(e,t){var n=this[0],i=!1;if("object"==typeof e)i=x(e);for(;n&&!(i?i.indexOf(n)>=0:Z.matches(n,e));)n=n!==t&&!r(n)&&n.parentNode;return x(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=x.map(n,function(e){if((e=e.parentNode)&&!r(e)&&t.indexOf(e)<0)return t.push(e),e;else return void 0});return g(t,e)},parent:function(e){return g(O(this.pluck("parentNode")),e)},children:function(e){return g(this.map(function(){return h(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||R.call(this.childNodes)})},siblings:function(e){return g(this.map(function(e,t){return S.call(h(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return x.map(this,function(t){return t[e]})},show:function(){return this.each(function(){if("none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display"))this.style.display=p(this.nodeName)})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var r=x(e).get(0),i=r.parentNode||this.length>1;return this.each(function(t){x(this).wrapAll(n?e.call(this,t):i?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){x(this[0]).before(e=x(e));for(var t;(t=e.children()).length;)e=t.first();x(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var r=x(this),i=r.contents(),o=n?e.call(this,t):e;i.length?i.wrapAll(o):r.append(o)})},unwrap:function(){return this.parent().each(function(){x(this).replaceWith(x(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=x(this);(e===E?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return x(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return x(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;x(this).empty().append(m(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=m(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(e,t){var n;return"string"==typeof e&&!(1 in arguments)?!this.length||1!==this[0].nodeType?E:!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:this.each(function(n){if(1===this.nodeType)if(i(e))for(k in e)y(this,k,e[k]);else y(this,e,m(this,t,n,this.getAttribute(e)))})},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){y(this,e)},this)})},prop:function(e,t){return e=J[e]||e,1 in arguments?this.each(function(n){this[e]=m(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(D,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?_(r):E},val:function(e){return 0 in arguments?this.each(function(t){this.value=m(this,e,t,this.value)}):this[0]&&(this[0].multiple?x(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=x(this),r=m(this,e,t,n.offset()),i=n.offsetParent().offset(),o={top:r.top-i.top,left:r.left-i.left};if("static"==n.css("position"))o.position="relative";n.css(o)});if(!this.length)return null;if(!x.contains(P.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var r,i=this[0];if(!i)return;if(r=getComputedStyle(i,""),"string"==typeof t)return i.style[j(t)]||r.getPropertyValue(t);else if(Q(t)){var o={};return x.each(t,function(e,t){o[t]=i.style[j(t)]||r.getPropertyValue(t)}),o}}var a="";if("string"==e(t))if(!n&&0!==n)this.each(function(){this.style.removeProperty(l(t))});else a=l(t)+":"+s(t,n);else for(k in t)if(!t[k]&&0!==t[k])this.each(function(){this.style.removeProperty(l(k))});else a+=l(k)+":"+s(k,t[k])+";";return this.each(function(){this.style.cssText+=";"+a})},index:function(e){return e?this.indexOf(x(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){if(!e)return!1;else return C.some.call(this,function(e){return this.test(b(e))},f(e))},addClass:function(e){if(!e)return this;else return this.each(function(t){if("className"in this){A=[];var n=b(this),r=m(this,e,t,n);r.split(/\s+/g).forEach(function(e){if(!x(this).hasClass(e))A.push(e)},this),A.length&&b(this,n+(n?" ":"")+A.join(" "))}})},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===E)return b(this,"");A=b(this),m(this,e,t,A).split(/\s+/g).forEach(function(e){A=A.replace(f(e)," ")}),b(this,A.trim())}})},toggleClass:function(e,t){if(!e)return this;else return this.each(function(n){var r=x(this),i=m(this,e,n,b(this));i.split(/\s+/g).forEach(function(e){(t===E?!r.hasClass(e):t)?r.addClass(e):r.removeClass(e)})})},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];if(e===E)return t?this[0].scrollTop:this[0].pageYOffset;else return this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];if(e===E)return t?this[0].scrollLeft:this[0].pageXOffset;else return this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=q.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(x(e).css("margin-top"))||0,n.left-=parseFloat(x(e).css("margin-left"))||0,r.top+=parseFloat(x(t[0]).css("border-top-width"))||0,r.left+=parseFloat(x(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||P.body;e&&!q.test(e.nodeName)&&"static"==x(e).css("position");)e=e.offsetParent;return e})}},x.fn.detach=x.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});x.fn[e]=function(i){var o,a=this[0];if(i===E)return n(a)?a["inner"+t]:r(a)?a.documentElement["scroll"+t]:(o=this.offset())&&o[e];else return this.each(function(t){a=x(this),a.css(e,m(this,i,t,a[e]()))})}}),z.forEach(function(t,n){var r=n%2;x.fn[t]=function(){var t,i,o=x.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:Z.fragment(n)}),a=this.length>1;if(o.length<1)return this;else return this.each(function(e,t){i=r?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var u=x.contains(P.documentElement,i);o.forEach(function(e){if(a)e=e.cloneNode(!0);else if(!i)return x(e).remove();if(i.insertBefore(e,t),u)w(e,function(e){if(!(null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src))window.eval.call(window,e.innerHTML)})})})},x.fn[r?t+"To":"insert"+(n?"Before":"After")]=function(e){return x(e)[t](this),this}}),Z.Z.prototype=d.prototype=x.fn,Z.uniq=O,Z.deserializeValue=_,x.zepto=Z,x}();return function(e){function t(e){return e._zid||(e._zid=p++)}function n(e,n,o,a){if(n=r(n),n.ns)var u=i(n.ns);return(g[t(e)]||[]).filter(function(e){return!(!e||n.e&&e.e!=n.e||n.ns&&!u.test(e.ns)||o&&t(e.fn)!==t(o)||a&&e.sel!=a)})}function r(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function i(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function o(e,t){return e.del&&!y&&e.e in b||!!t}function a(e){return _[e]||y&&b[e]||e}function u(n,i,u,c,f,p,h){var d=t(n),v=g[d]||(g[d]=[]);i.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(u);var i=r(t);if(i.fn=u,i.sel=f,i.e in _)u=function(t){var n=t.relatedTarget;if(!n||n!==this&&!e.contains(this,n))return i.fn.apply(this,arguments);else return void 0};i.del=p;var d=p||u;if(i.proxy=function(e){if(e=l(e),!e.isImmediatePropagationStopped()){e.data=c;var t=d.apply(n,e._args==s?[e]:[e].concat(e._args));if(t===!1)e.preventDefault(),e.stopPropagation();return t}},i.i=v.length,v.push(i),"addEventListener"in n)n.addEventListener(a(i.e),i.proxy,o(i,h))})}function c(e,r,i,u,c){var l=t(e);(r||"").split(/\s/).forEach(function(t){n(e,t,i,u).forEach(function(t){if(delete g[l][t.i],"removeEventListener"in e)e.removeEventListener(a(t.e),t.proxy,o(t,c))})})}function l(t,n){if(n||!t.isDefaultPrevented)if(n||(n=t),e.each(x,function(e,r){var i=n[e];t[e]=function(){return this[r]=w,i&&i.apply(n,arguments)},t[r]=E}),n.defaultPrevented!==s?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())t.isDefaultPrevented=w;return t}function f(e){var t,n={originalEvent:e};for(t in e)if(!k.test(t)&&e[t]!==s)n[t]=e[t];return l(n,e)}var s,p=1,h=Array.prototype.slice,d=e.isFunction,v=function(e){return"string"==typeof e},g={},m={},y="onfocusin"in window,b={focus:"focusin",blur:"focusout"},_={mouseenter:"mouseover",mouseleave:"mouseout"};m.click=m.mousedown=m.mouseup=m.mousemove="MouseEvents",e.event={add:u,remove:c},e.proxy=function(n,r){var i=2 in arguments&&h.call(arguments,2);if(d(n)){var o=function(){return n.apply(r,i?i.concat(h.call(arguments)):arguments)};return o._zid=t(n),o}else if(v(r))if(i)return i.unshift(n[r],n),e.proxy.apply(null,i);else return e.proxy(n[r],n);else throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var w=function(){return!0},E=function(){return!1},k=/^([A-Z]|returnValue$|layer[XY]$)/,x={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,r,i,o){var a,l,p=this;if(t&&!v(t))return e.each(t,function(e,t){p.on(e,n,r,t,o)}),p;if(!v(n)&&!d(i)&&i!==!1)i=r,r=n,n=s;if(i===s||r===!1)i=r,r=s;if(i===!1)i=E;return p.each(function(s,p){if(o)a=function(e){return c(p,e.type,i),i.apply(this,arguments)};if(n)l=function(t){var r,o=e(t.target).closest(n,p).get(0);if(o&&o!==p)return r=e.extend(f(t),{currentTarget:o,liveFired:p}),(a||i).apply(o,[r].concat(h.call(arguments,1)));else return void 0};u(p,t,i,r,n,l||a)})},e.fn.off=function(t,n,r){var i=this;if(t&&!v(t))return e.each(t,function(e,t){i.off(e,n,t)}),i;if(!v(n)&&!d(r)&&r!==!1)r=n,n=s;if(r===!1)r=E;return i.each(function(){c(this,t,r,n)})},e.fn.trigger=function(t,n){return t=v(t)||e.isPlainObject(t)?e.Event(t):l(t),t._args=n,this.each(function(){if(t.type in b&&"function"==typeof this[t.type])this[t.type]();else if("dispatchEvent"in this)this.dispatchEvent(t);else e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,r){var i,o;return this.each(function(a,u){i=f(v(t)?e.Event(t):t),i._args=r,i.target=u,e.each(n(u,t.type||t),function(e,t){if(o=t.proxy(i),i.isImmediatePropagationStopped())return!1;else return void 0})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){if(!v(e))t=e,e=t.type;var n=document.createEvent(m[e]||"Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),l(n)}}(e),e}),void function(e){e("promise/PromiseCapacity",["require","./util","./setImmediate"],function(require){function e(e){this.promise=e,this.status=o,this.isResolved=!1,this.result=void 0,this.fulfilledCallbacks=[],this.rejectedCallbacks=[],this.syncModeEnabled=!1,this.invoke=c}function t(e,t,n,r){return function(i){try{if("function"==typeof t)i=t(i),e=n;e(i)}catch(o){r(o)}}}function n(e,t){t.isResolved=!0;var n=new t.promise.constructor(function(t,n){var r=!1;try{e(function(e){t(e),r=!0},function(e){n(e),r=!0})}catch(i){!r&&n(i)}});n.then(function(e){t.isResolved=!1,t.resolve(e)},function(e){t.isResolved=!1,t.reject(e)})}function r(e){if(e.status!==o){var t=null;if(e.status===a)e.rejectedCallbacks=[],t=e.fulfilledCallbacks;else e.fulfilledCallbacks=[],t=e.rejectedCallbacks;e.invoke(function(){for(var n,r=e.result;n=t.shift();)n(r)})}}var i=require("./util"),o="pending",a="fulfilled",u="rejected",c=require("./setImmediate"),l=function(e){e()};return e.onResolve=function(){},e.onReject=function(e){"undefined"!=typeof console&&console.error(e)},e.prototype={constructor:e,resolve:function(e){if(this.status===o&&!this.isResolved){if(e===this.promise)return void this.reject(new TypeError("Chaining cycle detected for promise #<Promise>"));try{var t=i.getThen(e);if("function"==typeof t)return void n(i.bind(t,e),this)}catch(u){return void(this.status===o&&this.reject(u))}this.result=e,this.status=a,this.constructor.onResolve.call(this.promise,e),r(this)}},reject:function(e){if(this.status===o&&!this.isResolved)this.result=e,this.status=u,this.constructor.onReject.call(this.promise,e),r(this)},then:function(e,n){var i=this;this.syncModeEnabled=this.promise.syncModeEnabled,this.invoke=this.syncModeEnabled?l:c;var o=new this.promise.constructor(function(r,o){i.fulfilledCallbacks.push(t(r,e,r,o)),i.rejectedCallbacks.push(t(o,n,r,o))});return o.syncModeEnabled=this.syncModeEnabled,r(this),o}},e})}("function"==typeof define&&define.amd?define:function(e){module.exports=e(require)},this),void function(e){e("promise/Promise",["require","./util","./PromiseCapacity"],function(require){function e(r){if("function"!=typeof r)throw new TypeError("Promise resolver undefined is not a function");if(!(this instanceof e))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var i=new n(this);this.then=t.bind(i.then,i),r(t.bind(i.resolve,i),t.bind(i.reject,i))}var t=require("./util"),n=require("./PromiseCapacity");return e.prototype.then=function(){},e.prototype["catch"]=function(e){return this.then(null,e)},e.resolve=function(t){return new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.all=function(e){var n=this;if(!t.isArray(e))throw new TypeError("You must pass an array to all.");return new n(function(n,r){function i(e){return function(t){o(e,t)}}function o(e,t){if(a[e]=t,0===--u)n(a)}var a=[],u=e.length,c=null;if(0===u)n([]);for(var l=0,f=e.length;f>l;l++){c=e[l];var s=t.getThen(c);if("function"==typeof s)c.then(i(l),r);else o(l,c)}})},e.race=function(e){var n=this;if(!t.isArray(e))throw new TypeError("You must pass an array to race.");return new n(function(n,r){for(var i=0,o=e.length;o>i;i++){var a=e[i],u=t.getThen(a);if("function"==typeof u)u.call(a,n,r);else n(a)}})},e})}("function"==typeof define&&define.amd?define:function(e){module.exports=e(require)},this),void function(e,t){e("promise/enhance",["require","./util"],function(require){function e(e){return"function"==typeof a.getThen(e)}function n(e){var n=!1,r=new this(function(r){t.require(e,function(){!n&&r([].slice.call(arguments))})});return r.abort=function(){n=!0},r}function r(e){var t=this.constructor;return this.then(function(n){t.resolve(e()).then(function(){return n})},function(n){t.resolve(e()).then(function(){throw n})})}function i(t,n,r){try{r=[].slice.call(arguments,2);var i=t.apply(n,r);return e(i)?i:this.resolve(i)}catch(o){return this.reject(o)}}function o(e){if(e&&"object"==typeof e&&e.constructor===this)return e;else return new this(function(t){t(e)})}var a=require("./util");return function(t){return t.isPromise=e,t.require=n,t.invoke=i,t.cast=o,t.prototype["finally"]=r,t.prototype.ensure=r,t.prototype.fail=t.prototype["catch"],t}})}("function"==typeof define&&define.amd?define:function(e){module.exports=e(require)},this),void function(e){e("promise/then",["require","./util"],function(require){function e(e){return function(t){return t[e]}}function t(e){return function(){return e}}function n(){}var r=require("./util");return function(i){return i.prototype.thenGetProperty=function(t){return this.then(e(t))},i.prototype.thenReturn=function(e){return this.then(t(e))},i.prototype.thenBind=function(){return this.then(r.bind.apply(r,arguments))},i.prototype.thenSwallowException=function(){return this["catch"](n)},i}})}("function"==typeof define&&define.amd?define:function(e){module.exports=e(require)},this),void function(e){e("promise/hook",["require","./PromiseCapacity"],function(require){var e=require("./PromiseCapacity");return function(t){return t.onReject=function(t){if("function"==typeof t)e.onReject=t},t.onResolve=function(t){if("function"==typeof t)e.onResolve=t},t}})}("function"==typeof define&&define.amd?define:function(e){module.exports=e(require)},this),void function(e){e("promise/main",["require","./Promise","./enhance","./then","./hook"],function(require){var e=require("./Promise"),t=require("./enhance"),n=require("./then"),r=require("./hook");return r(n(t(e)))})}("function"==typeof define&&define.amd?define:function(e){module.exports=e(require)},this),define("promise",["promise/main"],function(e){return e}),define("mini-event/EventQueue",["require","./lib"],function(require){function e(e,t,n){return e&&e.handler===t&&e.thisObject==n}function t(){this.queue=[]}var n=require("./lib");return t.prototype.add=function(t,r){if(t!==!1&&"function"!=typeof t)throw new Error("event handler must be a function or const false");var i={handler:t};n.extend(i,r);for(var o=0;o<this.queue.length;o++){var a=this.queue[o];if(e(a,t,i.thisObject))return}this.queue.push(i)},t.prototype.remove=function(t,n){if(!t)return void this.clear();for(var r=0;r<this.queue.length;r++){var i=this.queue[r];if(e(i,t,n))return void(this.queue[r]=null)}},t.prototype.clear=function(){this.queue.length=0},t.prototype.execute=function(e,t){for(var n=this.queue,r=0;r<n.length;r++){if("function"==typeof e.isImmediatePropagationStopped&&e.isImmediatePropagationStopped())return;var i=n[r];if(i){var o=i.handler;if(o===!1){if("function"==typeof e.preventDefault)e.preventDefault();if("function"==typeof e.stopPropagation)e.stopPropagation()}else o.call(i.thisObject||t,e);if(i.once)this.remove(i.handler,i.thisObject)}else;}},t.prototype.getLength=function(){for(var e=0,t=0;t<this.queue.length;t++)if(this.queue[t])e++;return e},t.prototype.length=t.prototype.getLength,t.prototype.dispose=function(){this.clear(),this.queue=null},t}),define("mini-event/EventTarget",["require","./lib","./Event","./EventQueue"],function(require){function e(){}var t=require("./lib"),n=require("./Event"),r=require("./EventQueue");return e.prototype.on=function(e,n,i,o){if(!this.miniEventPool)this.miniEventPool={};if(!this.miniEventPool.hasOwnProperty(e))this.miniEventPool[e]=new r;var a=this.miniEventPool[e];if(o=t.extend({},o),i)o.thisObject=i;a.add(n,o)},e.prototype.once=function(e,n,r,i){i=t.extend({},i),i.once=!0,this.on(e,n,r,i)},e.prototype.un=function(e,t,n){if(this.miniEventPool&&this.miniEventPool.hasOwnProperty(e)){var r=this.miniEventPool[e];r.remove(t,n)}},e.prototype.fire=function(e,t){if(1===arguments.length&&"object"==typeof e)t=e,e=t.type;if(!e)throw new Error("No event type specified");if("*"===e)throw new Error("Cannot fire global event");var r=t instanceof n?t:new n(e,t);r.target=this;var i=this["on"+e];if("function"==typeof i)i.call(this,r);if(this.miniEventPool&&this.miniEventPool.hasOwnProperty(e)){var o=this.miniEventPool[e];o.execute(r,this)}if(this.miniEventPool&&this.miniEventPool.hasOwnProperty("*")){var a=this.miniEventPool["*"];a.execute(r,this)}return r},e.prototype.destroyEvents=function(){if(this.miniEventPool){for(var e in this.miniEventPool)if(this.miniEventPool.hasOwnProperty(e))this.miniEventPool[e].dispose();this.miniEventPool=null}},e.enable=function(n){n.miniEventPool={},t.extend(n,e.prototype)},e}),define("k-component/cache",["require","lodash","mini-event/EventTarget"],function(require){function add(e){var t=owners.push(e);return caches[t-1]={data:{}}}function innerData(e,t,n,r){var i=owners.indexOf(e),o=-1===i?add(e):caches[i],a="string"==typeof t,u=o;if(!r)o=o.data;if(t&&"object"==typeof t)_.extend(o,t);else if(a&&void 0!==n)o[t]=n;if(a){if(t in o)return o[t];else if(!r&&e&&1===e.nodeType)return cacheUtil.parseData(e,t,u)}else return o}function innerRemoveData(e,t,n){var r=owners.indexOf(e);if(r>-1){var i="string"==typeof t,o=caches[r],a=o;if(i){if(!n)o=o.data;if(o)i=o[t],delete o[t];if('{"data":{}}'===JSON.stringify(a))owners.splice(r,1),caches.splice(r,1)}return i}}function determineDiff(e,t,n){var r={};if(void 0!==n){var i=determineDiff(e,t);if(void 0!==i)r[n]=i;return r}else{if("object"==typeof t&&"object"==typeof e)return _.each(e,function(n,i){var o=determineDiff(e[i],t[i],i);if(void 0!==o)r[i]=o}),r;if(t!==e)return e}}var _=require("lodash"),owners=[],caches=[],rparse=/^(?:null|false|true|NaN|\{.*\}|\[.*\])$/,cacheUtil={hasData:function(e){return owners.indexOf(e)>-1},data:function(e,t,n){return innerData(e,t,n)},_data:function(e,t,n){return innerData(e,t,n,!0)},removeData:function(e,t){return innerRemoveData(e,t)},_removeData:function(e,t){return innerRemoveData(e,t,!0)},parseData:function(target,name,cache,value){var data,_eval,key=_.camelize(name);if(cache&&key in cache)return cache[key];if(4!==arguments.length){var attr="data-"+name.replace(/([A-Z])/g,"-$1").toLowerCase();value=target.getAttribute(attr)}if("string"==typeof value){if(rparse.test(value)||+value+""===value)_eval=!0;try{data=_eval?eval("0,"+value):value}catch(e){data=value}if(cache)cache[key]=data}return data},curry:function(e){var t={get:_.partial(cacheUtil.data,e),set:function(n,r){var i;if(n&&"object"==typeof n)i=determineDiff(n,t.get());else if("string"==typeof n&&void 0!==r)i=determineDiff(r,t.get(n),n);var o;if(_.keys(i).length>0)o={newValue:i,oldValue:_.clone(t.get())};if(cacheUtil.data(e,n,r),o)t.fire("change",o),_.each(o.newValue,function(e,n){t.fire("change:"+n,{newValue:e,oldValue:o.oldValue[n]})})},remove:function(n){var r=t.get(n);if(cacheUtil.removeData(e,n),void 0!==r)t.fire("change:"+n,{newValue:void 0,oldValue:r})},hasData:_.partial(cacheUtil.hasData,e)};return require("mini-event/EventTarget").enable(t),t}};return cacheUtil}),define("k-component/config",["require"],function(){var e={LOADER_FILE_SUFFIX:"component.html",REGISTER_TAG:"k-component",CACHED_ACTION_KEY:"$$_COMPONENT_ACTION_$$"};return e}),define("k-component/k",["require","lodash","./lib/zepto","promise","./cache","./config"],function(require){function e(e,t){if("string"==typeof e){var n=i(e,t);if(c)n=i(r.toArray(n).concat(r.toArray(i("::shadow "+e,t))));return n}return i(e,t)}function t(e,t,n){for(var r,i=[],a=0,u=e.length;u>a;a++)if(r=e[a],r.promise)i.push(r.promise);if(i.length>0)o.all(i).then(t,n);else t()}function n(e){for(var t,n=this,i=r.toArray(arguments).slice(1),o=0,a=n.length;a>o;o++)t=l(n[o]),t[e].apply(t,i)}var r=require("lodash"),i=require("./lib/zepto"),o=require("promise"),a=require("./cache"),u=require("./config"),c=!!document.body.createShadowRoot,l=function(e){return a._data(e,u.CACHED_ACTION_KEY)},f=function(r,i){var a=e(r,i);return a.promise=new o(function(e,n){setTimeout(function(){t(a,e,n)},1)}),a.then=function(e,t){return a.promise.then(function(){n.call(a,"ready",e)})["catch"](function(){n.call(a,"ready",t)})},a["catch"]=function(e){return a.promise["catch"](function(){n.call(a,"ready",e)})},a.data=function(){var e=[].slice.call(arguments);return e.unshift("data"),a.promise.then(function(){n.apply(a,e)})["catch"](function(){a.data.apply(a,e)})},a};return f}),function(e,t,n){var r=function(){function r(e,t){for(var n=0,r=e.length;r>n;n++)p(e[n],t)}function i(e){for(var t,n=0,r=e.length;r>n;n++)t=e[n],b(t,I[a(t)])}function o(e){return function(t){if(M.call(V,t))p(t,e),r(t.querySelectorAll(S),e)}}function a(e){var t=e.getAttribute("is"),n=e.nodeName,r=P.call(C,t?A+t.toUpperCase():x+n);return t&&r>-1&&!u(n,t)?-1:r}function u(e,t){return-1<S.indexOf(e+'[is="'+t+'"]')}function c(e){var t=e.currentTarget,n=e.attrChange,r=e.prevValue,i=e.newValue;if(t.attributeChangedCallback&&"style"!==e.attrName)t.attributeChangedCallback(e.attrName,n===e.ADDITION?null:r,n===e.REMOVAL?null:i)}function l(e){var t=o(e);return function(e){t(e.target)}}function f(e,t){var n=this;K.call(n,e,t),d.call(n,{target:n})}function s(e,t){if(U(e,t),m)m.observe(e,Y);else{if(J)e.setAttribute=f,e[_]=g(e),e.addEventListener(k,d);e.addEventListener(E,c)}if(e.createdCallback)e.created=!0,e.createdCallback(),e.created=!1}function p(e,t){var n,r=a(e),i="attached",o="detached";if(r>-1){if(y(e,I[r]),r=0,t===i&&!e[i])e[o]=!1,e[i]=!0,r=1;else if(t===o&&!e[o])e[i]=!1,e[o]=!0,r=1;if(r&&(n=e[t+"Callback"]))n.call(e)}}var h="registerElement";if(!(h in t)){var d,v,g,m,y,b,_="__"+h+(1e5*Math.random()>>0),w="extends",E="DOMAttrModified",k="DOMSubtreeModified",x="<",A="=",j=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,O=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],C=[],I=[],S="",R=t.documentElement,P=C.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},T=n.prototype,N=T.hasOwnProperty,M=T.isPrototypeOf,$=n.defineProperty,L=n.getOwnPropertyDescriptor,F=n.getOwnPropertyNames,q=n.getPrototypeOf,D=n.setPrototypeOf,B=!!n.__proto__,z=n.create||function Q(e){return e?(Q.prototype=e,new Q):this},U=D||(B?function(e,t){return e.__proto__=t,e}:F&&L?function(){function e(e,t){for(var n,r=F(t),i=0,o=r.length;o>i;i++)if(n=r[i],!N.call(e,n))$(e,n,L(t,n))}return function(t,n){do e(t,n);while(n=q(n));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),W=e.MutationObserver||e.WebKitMutationObserver,V=(e.HTMLElement||e.Element||e.Node).prototype,H=V.cloneNode,K=V.setAttribute,G=t.createElement,Y=W&&{attributes:!0,characterData:!0,attributeOldValue:!0},Z=W||function(){J=!1,R.removeEventListener(E,Z)},X=!1,J=!0;if(D||B)y=function(e,t){if(!M.call(t,e))s(e,t)},b=s;else y=function(e,t){if(!e[_])e[_]=n(!0),s(e,t)},b=y;if(!W)if(R.addEventListener(E,Z),R.setAttribute(_,1),R.removeAttribute(_),J)d=function(e){var t,n,r,i=this;if(i===e.target){t=i[_],i[_]=n=g(i);for(r in n)if(!(r in t))return v(0,i,r,t[r],n[r],"ADDITION");else if(n[r]!==t[r])return v(1,i,r,t[r],n[r],"MODIFICATION");for(r in t)if(!(r in n))return v(2,i,r,t[r],n[r],"REMOVAL")}},v=function(e,t,n,r,i,o){var a={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};a[o]=e,c(a)},g=function(e){for(var t,n,r={},i=e.attributes,o=0,a=i.length;a>o;o++)if(t=i[o],n=t.name,"setAttribute"!==n)r[n]=t.value;return r};t[h]=function(e,n){if(c=e.toUpperCase(),!X){if(X=!0,W)m=function(e,t){function n(e,t){for(var n=0,r=e.length;r>n;t(e[n++]));}return new W(function(r){for(var i,o,a=0,u=r.length;u>a;a++)if(i=r[a],"childList"===i.type)n(i.addedNodes,e),n(i.removedNodes,t);else if(o=i.target,o.attributeChangedCallback&&"style"!==i.attributeName)o.attributeChangedCallback(i.attributeName,i.oldValue,o.getAttribute(i.attributeName))})}(o("attached"),o("detached")),m.observe(t,{childList:!0,subtree:!0});else t.addEventListener("DOMNodeInserted",l("attached")),t.addEventListener("DOMNodeRemoved",l("detached"));t.addEventListener("readystatechange",function(){r(t.querySelectorAll(S),"attached")}),t.createElement=function(e,n){var r=G.apply(t,arguments),i=P.call(C,(n?A:x)+(n||e).toUpperCase()),o=i>-1;if(n)if(r.setAttribute("is",n=n.toLowerCase()),o)o=u(e.toUpperCase(),n);if(o)b(r,I[i]);return r},V.cloneNode=function(e){var t=H.call(this,!!e),n=a(t);if(n>-1)b(t,I[n]);if(e)i(t.querySelectorAll(S));return t}}if(-2<P.call(C,A+c)+P.call(C,x+c))throw new Error("A "+e+" type is already registered");if(!j.test(c)||-1<P.call(O,c))throw new Error("The type "+e+" is invalid");var c,f=function(){return t.createElement(h,p&&c)},s=n||T,p=N.call(s,w),h=p?n[w].toUpperCase():c,d=C.push((p?A:x)+c)-1;return S=S.concat(S.length?",":"",p?h+'[is="'+e.toLowerCase()+'"]':h),f.prototype=I[d]=N.call(s,"prototype")?s.prototype:z(V),r(t.querySelectorAll(S),"attached"),f}}};if("function"==typeof define&&define.amd)define("custom-element-shim/document-register-element",[],r);else if("object"==typeof exports)module.exports=r();else r()}(window,document,Object),define("custom-element-shim",["custom-element-shim/document-register-element"],function(e){return e}),define("k-component/registry",["require","lodash","./cache","custom-element-shim","./config","etpl","promise"],function(require){function e(e){var t=e.template;
if(!e.componentInited){if(c){var n=e.createShadowRoot(),r=document.importNode(t.content,!0);n.appendChild(r);var i=n.querySelector("content");if(!i)i=document.createElement("content"),n.appendChild(i);e.content=e}else{var o=document.createElement("fake-shadow-root");o.innerHTML=t.innerHTML,e.shadowRoot=o,e.appendChild(o);var i=o.querySelector("content");if(!i)i=document.createElement("content"),o.appendChild(i);e.content=i;for(var a=e.childNodes.length-1;a>=0;a--)if(1!==e.childNodes[a].nodeType||"fake-shadow-root"!==e.childNodes[a].tagName.toLowerCase())if(0===i.childNodes.length)i.appendChild(e.childNodes[a]);else i.insertBefore(e.childNodes[a],i.firstChild);else;}e.componentInited=!0}}function t(e,t){document.registerElement(e,{prototype:r.extend(Object.create(HTMLElement.prototype),t||{})})}function n(){var e="$$$__register_temp_container__$$$",t=document.getElementById(e);if(t)return t;else return t=document.createElement("div"),t.id=e,t.style.width=0,t.style.height=0,t.style.overflow="hidden",document.body.appendChild(t),t}var r=require("lodash"),i=require("./cache");require("custom-element-shim");var o=require("./config"),a=(require("etpl"),require("promise")),u={},c=!!document.body.createShadowRoot,l=function(e){return i._data(e,o.CACHED_ACTION_KEY)};u.createdCallback=function(){var n=this.getAttribute("name"),u=this.querySelector("template"),c=this.getAttribute("action");t(n,{template:u,actionPath:c,createdCallback:function(){this.setAttribute("k-component",!0);var t=this;e(t),t.promise=new a(function(e,n){if(t.actionPath)a.require([t.actionPath]).then(function(n){if(r.isArray(n))n=n[0];var a=new n({el:t});i._data(t,o.CACHED_ACTION_KEY,a),a.ready(function(){e()})}).catch(n);else e()})},attachedCallback:function(){},detachedCallback:function(){var e=this;e.promise&&e.promise.then(function(){l(e)&&l(e).dispose()})},attributeChangedCallback:function(e,t,n){var r=this;r.promise&&r.promise.then(function(){l(r)&&l(r).attributeChangedCallback(e,t,n)})}})},u.attachedCallback=function(){},t(o.REGISTER_TAG,u);var f={registerFromHTML:function(e){var t;t=n(),t.innerHTML=e}};return f}),define("k-component/component",["require","exports","module","k-component/config","k-component/registry"],function(require){"use strict";var e=require("k-component/config"),t=require("k-component/registry");return{load:function(n,r,i){var o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");o.open("GET",r.toUrl(n+"."+e.LOADER_FILE_SUFFIX),!0),o.onreadystatechange=function(){if(4===o.readyState){if(o.status>=200&&o.status<300){var e=o.responseText;t.registerFromHTML(e),i(e)}o.onreadystatechange=new Function,o=null}},o.send(null)}}}),define("componentConfig",["require"],function(){return{"mark-commandable":{html:["<h1>哪个是真的a，点点看</h1>",'<ul id="command-test">','    <mark-commandable event-type="click"></mark-commandable>','    <li data-command="aa">a</li>','    <li data-command="real">a</li>','    <li data-command="aba">a</li>','    <li data-command="aacc">a</li>',"</ul>",'<div id="result"></div>'].join("\n"),less:["#command-test {","    border: 2px solid green;","    padding: 10px;","    li {","        cursor: pointer;","        list-style: none;","        padding: 3px 8px;","        background-color: #efefef;","        margin: 5px 0;","    }","}"].join("\n"),javascript:["var $k = require('k-component/k');","$k('#command-test').on('command', function (e, args) {","    $k('#result').html('emm... ' + args.command + ' is not real.');","});","$k('#command-test').on('command:real', function (e) {","    $k('#result').html('yes');","})"].join("\n")},"mark-selectable":{html:['<ul class="mark-selectable-test">','    <mark-selectable selection="*"></mark-selectable>',"    <li>a</li>","    <li>b</li>","    <li>c</li>","</ul>",'<ul class="mark-selectable-test">','    <mark-selectable selection="*" multi></mark-selectable>',"    <li>a</li>","    <li>b</li>","    <li>c</li>","</ul>"].join("\n"),less:[".mark-selectable-test {","    border: 2px solid green;","    padding: 10px;","    li {","        cursor: pointer;","        list-style: none;","        padding: 3px 8px;","        background-color: #efefef;","        margin: 5px 0;","        &.selected {","            background-color: green;","            color: #ffffff;","        }","    }","}"].join("\n"),javascript:["var $k = require('k-component/k');"].join("\n")},"k-selection":{html:['<k-selection id="hello">',"    <li>a</li>","    <li>b</li>","    <li>c</li>","    <li>d</li>","</k-selection>",'<k-selection id="hello1" multi>',"    <li>a</li>","    <li>b</li>","    <li>c</li>","    <li>d</li>","</k-selection>",'<k-selection id="hello2" multi>',"    <k-list>","        <li>${item}</li>","    </k-list>","</k-selection>"].join("\n"),less:["#hello, #hello1, #hello2 {","    display: block;","    margin: 10px 0;","    padding: 0;","    position: relative;","    li {","        cursor: pointer;","        list-style: none;","        padding: 2px 8px;","        &:hover {","            background-color: #efefef;","        }","        &.selected {","            background-color: #cdef00;","        }","    }","}"].join("\n"),javascript:["var $k = require('k-component/k');","$k('#hello').on('select', function (e) {","    console.log(e.selection);","});","$k('#hello2 k-list').then(function () {","    var list = [];","    var len = 4;","    for (var i = 0; i < len; i++) {","        list.push(Math.random() * 10);","    }","    this.setList(list);","});"].join("\n")},"k-list":{html:['<k-list id="list1">',"    <li>","        <!-- for: ${item} as ${v}, ${k} -->","        ${k} is ${v}","        <!-- /for -->","    </li>","</k-list>"].join("\n"),less:["#list1 {","    display: block;","    margin: 10px 0;","    padding: 0;","    position: relative;","    li {","        list-style: none;","        padding: 2px 8px;","        &:hover {","            background-color: #efefef;","        }","        &.selected {","            background-color: #cdef00;","        }","    }","}"].join("\n"),javascript:["var $k = require('k-component/k');","$k('#list1').then(function () {","    var list = [];","    var len = 10;","    for (var i = 0; i < len; i++) {","        list.push({","            name: 'name' + Math.floor(Math.random() * 10),","            age: Math.floor(Math.random() * 30),","            aaa: [11, 13, 31][Math.floor(Math.random() * 3)],","            children: [1,2,3]","        });","    }","    this.setList(list);","});"].join("\n")},"k-item":{html:"<k-item>占个位置而已，以后要用 ICON 的</k-item>",less:"",javascript:["var $k = require('k-component/k');"].join("\n")},"k-menu":{html:['<k-menu id="menu1">',"    <mark-commandable></mark-commandable>","    <k-list>",'        <k-item data-command="word" data-command-args="${item.word}">',"            ${item.text}","        </k-item>","    </k-list>","</k-menu>"].join("\n"),less:["#menu1 {","    border: 3px solid green;","    padding: 5px 10px;","    margin: 0;","    position: relative;","    display: block;","    k-item {","        display: block;","        border: 2px solid green;","        padding: 2px 8px;","        margin: 5px 0;","        cursor: pointer;","        &:hover {","            color: #ffffff;","            background-color: lightgreen;","        }","        &.selected {","            color: #ffffff;","            background-color: green;","        }","    }","}"].join("\n"),javascript:["var $k = require('k-component/k');","var $ = require('k-component/lib/zepto');","$k('#menu1').then(function () {","    $(this.el).on('command:word', function (e, args) {","        alert(args);","    });","});","$k('#menu1 k-list').then(function () {","    var list = [];","    var len = 10;","    for (var i = 0; i < len; i++) {","        list.push({","            text: 'menu' + Math.floor(Math.random() * 10),","            word: '擦擦 * ' + Math.floor(Math.random() * 10)","        });","    }","    this.setList(list);","});"].join("\n")},"k-submenu":{html:['<k-menu id="menu1">',"    <mark-commandable></mark-commandable>","    <k-item>hello</k-item>",'    <k-submenu label="world">',"        <k-item>a</k-item>","        <k-item>b</k-item>","        <k-item>c</k-item>","    </k-submenu>",'    <k-submenu label="我勒个去">',"        <k-item>a</k-item>","        <k-item>b</k-item>","        <k-item>c</k-item>","    </k-submenu>","</k-menu>"].join("\n"),less:["#menu1 {","    padding: 5px 10px;","    margin: 0;","    position: relative;","    display: block;","    k-item {","        display: block;","        border: 1px solid green;","        position: relative;","        padding: 2px 8px;","        margin-top: 5px;","        cursor: pointer;","        &:hover {","            position: relative;","            left: 10px;","        }","        &.selected {","            color: #ffffff;","            background-color: lightgreen;","            border-left-color: green;","            position: relative;","            left: 10px;","        }","    }","}",".labelstyle {","    color: #ffffff;","    padding: 2px 8px;","    border-left: 20px solid #ffffff;","    border: 1px solid green;","    background-color: lightgray;","    &:hover {","        background-color: #ffffff;","        color: #000000;","    }","}","::shadow .label {","    .labelstyle;","}",".label {","    .labelstyle;","}","k-submenu {","    cursor: pointer;","    margin: 5px 0;","    position: relative;","    display: block;","}"].join("\n"),javascript:["var $k = require('k-component/k');","require(['k-component/component!k-component-element/k-menu']);"].join("\n")}}}),define("k-component/lib/util",["require","lodash","mini-event/Event"],function(require){function e(e){e=e||0;for(var t=[],n=0;e>n;n++)t.push("0123456789abcdef".charAt(Math.floor(16*Math.random())));return t.join("")}var t=require("lodash"),n={isXML:function(e){return e.createElement("p").nodeName!==e.createElement("P").nodeName},contains:function(e,t,n){if(e===t)return!!n;if(!t.parentNode)return!1;if(e.contains)return e.contains(t);else if(e.compareDocumentPosition)return!!(16&e.compareDocumentPosition(t));for(;t=t.parentNode;)if(e===t)return!0;return!1}};return n.guid=function(){var t=(new Date).valueOf().toString();return["4b534c46",e(4),"4"+e(3),e(4),t.substring(0,12)].join("-")},n.uid=function(){return[(new Date).valueOf().toString(),e(4)].join("")},n.processError=function(e){if(e instanceof Error)window.console.error(e.stack);else if(e.error instanceof Error||t.isArray(e.error))n.processError(e.error);else if(t.isArray(e))t.each(e,n.processError);else if(e instanceof require("mini-event/Event")&&"error"===e.type)window.console.error(e.error.failType,e.error.reason,e);else window.console.error(e)},n}),define("k-component/preservedAttributes",["require","./lib/zepto"],function(require){var e=require("./lib/zepto"),t={hidden:function(t){if(null==t)e(this.el).css({height:"auto",visibility:"visible"});else e(this.el).css({height:0,visibility:"hidden"})}};return t}),define("k-component/Action",["require","lodash","./k","./lib/util","promise","./cache","./preservedAttributes","etpl"],function(require){function e(e){var t=this;e=e||{},t.el=t.$(e.el),t.el.attr("k-component",""),t.el.attr("data-guid",r.guid()),t.on=t.el.on,t.one=t.el.one,t.off=t.el.off,t.trigger=t.el.trigger,t.triggerHandler=t.el.triggerHandler,t.content=t.$(e.el.content),t.shadowRoot=t.$(e.el.shadowRoot),t.data=o.curry(t.el),t.initialize();var n=t.content.html();t.renderer=require("etpl").compile(n),t.promise=new i(function(e){t.initBehavior(),t.bindEvents(),e()})}var t=require("lodash"),n=require("./k"),r=require("./lib/util"),i=require("promise"),o=require("./cache"),a=require("./preservedAttributes");return e.prototype={constructor:e,$:function(e){return n(e,this.el)},initialize:t.noop,getRenderingData:function(){var e=this.data,t=function(t){for(var n=t.replace(/\[(\d+)\]/g,".$1").split("."),r=n.shift(),i=e.get(r);i&&(r=n.shift());)i=i[r];return i};return{get:t,relatedModel:e}},render:function(){this.content.html(this.renderer(this.getRenderingData()))},ready:function(e){this.promise.then(t.bind(e,this))},attributes:{},getAttributes:function(){return this.attributes||{}},setAttributes:function(e){this.attributes=e},attributeChangedCallback:function(e,n,r){if(!this.get("disposed")){if(a[e])return void a[e].call(this,r,n);var i=this.getAttributes();if(i&&"function"==typeof i[e]&&n!==r)i[e].call(this,r,n);if(/^data\-/.test(e)&&n!==r){var o=t.camelCase(e.replace(/^data\-/g,""));this.data.set(o,r)}}},initBehavior:t.noop,bindEvents:t.noop,getParent:function(){for(var e=this.el;e!==document.body;){if(e=e.parentNode||e.host,!e)return;if(e["k-component"])return n.get(e)}},processError:function(e){r.processError(e)},get:function(e){return this[e]},set:function(e,t){this[e]=t},dispose:function(){this.data=null,this.set("disposed",!0)}},e}),define("k-component/lib/browser",["require"],function(){var e=window,t=e.opera?opera.version().replace(/\d$/,"")-0:parseFloat((/(?:IE |fox\/|ome\/ion\/)(\d+\.\d)/.exec(navigator.userAgent)||[,0])[1]),n={ie:!!e.VBArray&&Math.max(document.documentMode||0,t),firefox:!!e.netscape&&t,opera:!!e.opera&&t,chrome:!!e.chrome&&t,safari:/apple/i.test(navigator.vendor)&&t};return n}),define("k-component/main",["require"],function(){var e={version:"0.0.1-alpha.11"};return e}),define("k-component",["k-component/main"],function(e){return e}),define("k-component-element/KItem",["require","k-component/component!k-component-element/k-item","eoo","k-component/Action"],function(require){require("k-component/component!k-component-element/k-item");var e={attributes:{},dispose:function(){this.$super(arguments)}},t=require("eoo").create(require("k-component/Action"),e);return t}),define("k-component-element/KList",["require","k-component/component!k-component-element/k-list","fc-core/oo","k-component/Action"],function(require){require("k-component/component!k-component-element/k-list");var e={initialize:function(){this.content.html(["<!-- for: ${list} as ${item}, ${index} -->",this.content.html(),"<!-- /for -->"].join("\n"))},bindEvents:function(){var e=this;e.data.on("change:list",e.render,e)},attributes:{},setList:function(e){this.data.set("list",e)},getList:function(){return this.data.get("list")},dispose:function(){this.$super(arguments)}},t=require("fc-core/oo").derive(require("k-component/Action"),e);return t}),define("k-component-element/KMenu",["require","k-component/component!k-component-element/k-menu","./KItem","fc-core/oo","k-component/Action"],function(require){require("k-component/component!k-component-element/k-menu"),require("./KItem");var e={initialize:function(){},bindEvents:function(){var e=this,t=(e.$(e.el),e.$(e.content));t.children().on("open",function(){t.children().filter("k-submenu[actived]").attr("actived",null)})},attributes:{},dispose:function(){this.$super(arguments)}},t=require("fc-core/oo").derive(require("k-component/Action"),e);return t}),define("k-component-element/MarkAction",["require","eoo","k-component/Action"],function(require){var e={initialize:function(){this.el.attr("hidden","");var e=this.el.parent()[0];if(e.tagName&&"content"===e.tagName.toLowerCase())e=e.parentNode;var t=!1;if(e.host)e=e.host,t=!0;else if("fake-shadow-root"===e.tagName.toLowerCase())e=e.parentNode;if(this.host=this.$(e),t)this.$host=this.$(e.shadowRoot);else this.$host=this.host}},t=require("eoo").create(require("k-component/Action"),e);return t}),define("k-component-element/MarkSelectable",["require","k-component/component!k-component-element/mark-selectable","eoo","./MarkAction"],function(require){require("k-component/component!k-component-element/mark-selectable");var e={initialize:function(){this.$super(arguments),this.selection=this.el.attr("selection")||"*",this.multi=null!=this.el.attr("multi"),this.disabled=null!=this.el.attr("disabled"),this.host[0].selection=this,this.$(this.getSelected()).addClass("selected")},bindEvents:function(){var e=this;e.$host.on("mousedown",e.selection,function(t){if(t.target!==e.host)e.select(t.target)})},select:function(e){var t=this;if(e=t.$(e),!t.disabled)if(t.multi){if(null!=e.attr("selected"))e.attr("selected",null).removeClass("selected");else e.attr("selected","").addClass("selected");t.$(t.host).trigger("select")}else if(null==e.attr("selected"))t.$(t.getSelected()).attr("selected",null).removeClass("selected"),e.attr("selected","").addClass("selected"),t.$(t.host).trigger("select")},attributes:{multi:function(e){this.set("multi",null!=e)},disabled:function(e){this.set("disabled",null!=e)}},getSelection:function(){return this.$(this.host).find(this.selection)},getSelected:function(){var e=this.getSelection().filter("[selected]");return this.multi?e:e[0]},dispose:function(){this.$super(arguments)}},t=require("eoo").create(require("./MarkAction"),e);return t}),define("k-component-element/KSelection",["require","./MarkSelectable","k-component/component!k-component-element/k-selection","fc-core/oo","k-component/Action"],function(require){require("./MarkSelectable"),require("k-component/component!k-component-element/k-selection");var e={initialize:function(){},initBehavior:function(){this.$("mark-selectable").attr("multi",this.el.attr("multi")).attr("disabled",this.el.attr("disabled"))},attributes:{multi:function(e){this.$("mark-selectable").attr("multi",e)},disabled:function(e){this.$("mark-selectable").attr("disabled",e)}},select:function(e){if(e)this.el[0].selection.select(e)},dispose:function(){this.$super(arguments)}},t=require("fc-core/oo").derive(require("k-component/Action"),e);return t}),define("k-component-element/MarkCommandable",["require","lodash","k-component/component!k-component-element/mark-commandable","fc-core/oo","./MarkAction"],function(require){var e=require("lodash");require("k-component/component!k-component-element/mark-commandable");var t={supportedEvent:["click","mousedown","mouseup","mouseover","mouseout"],initialize:function(){this.$super(arguments),this.type=e.trim(this.el.attr("event-type"))||"mousedown",this.handler=e.bind(this.executeCommand,this)},bindEvents:function(){var t=this;if(-1!==e.indexOf(t.supportedEvent,t.type))t.$host.on(t.type,t.handler)},unbindEvents:function(){var e=this;e.$host.off(e.type,e.handler)},attributes:{"event-type":function(t){var n=this;n.unbindEvents(),n.type=e.trim(t)||"mousedown",n.bindEvents()}},executeCommand:function(t){var n=this.$(t.target),r=n.attr("data-command"),i=n.attr("data-command-args"),o=n.attr("data-command-trigger");if(null!=r||!o||e.trim(o)===this.type){try{i=JSON.parse(i)}catch(t){}this.host.trigger("command",{command:r,args:i}),this.host.triggerHandler("command:"+r,i),t.preventDefault()}},dispose:function(){var e=this;e.unbindEvents(),this.$super(arguments)}},n=require("fc-core/oo").derive(require("./MarkAction"),t);return n}),define("k-component-element/KSubmenu",["require","lodash","./MarkCommandable","./KSelection","./KItem","k-component/component!./k-submenu","eoo","k-component/Action"],function(require){require("lodash");require("./MarkCommandable"),require("./KSelection"),require("./KItem"),require("k-component/component!./k-submenu");var e={initialize:function(){if(this.label=this.el.attr("label"),this.trigger=this.el.attr("trigger")||"mousedown",this.label)this.$(".label").html(this.label);this.$("mark-commandable").attr("event-type",this.trigger)},initBehavior:function(){},bindEvents:function(){var e=this,t=e.$(".list");e.el.on("command:toggle-list",function(){var n=t.attr("hidden");e.el.trigger(n?"open":"hide"),e.el.attr("actived",n?"":null)})},attributes:{actived:function(e){var t=this.$(".list");if(null!=e)t.attr("hidden",null);else t.attr("hidden","")}},dispose:function(){this.$super(arguments)}},t=require("eoo").create(require("k-component/Action"),e);return t}),define("k-component-element/main",["require"],function(){var e={version:"0.0.1-alpha.4"};return e}),define("k-component-element",["k-component-element/main"],function(e){return e}),define("main",["require","fc-core","underscore","k-component/k","k-component/component!k-component-element/k-selection","k-component/component!./demo-preview","./componentConfig"],function(require){require("fc-core");var e=require("underscore"),t=require("k-component/k");require("k-component/component!k-component-element/k-selection"),require("k-component/component!./demo-preview");var n=require("./componentConfig"),r=[];e.each(e.keys(n),function(e){r.push('<li path="'+e+'">'+e+"</li>")});var i=document.getElementById("main-menu");t(i).then(function(){this.content.html(r.join("")),this.el.on("select",function(){var e=t(this.selection.getSelected()).attr("path");t("demo-preview","#main").attr("path",e)}),this.select(this.content.children()[0])})});